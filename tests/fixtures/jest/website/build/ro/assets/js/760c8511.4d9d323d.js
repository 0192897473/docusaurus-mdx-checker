"use strict";(self.webpackChunkjest_website=self.webpackChunkjest_website||[]).push([[1593],{2599:(e,n,t)=>{t.d(n,{Z:()=>o});t(7378);var s=t(7140);const r={tabItem:"tabItem_wHwb"};var a=t(4246);function o(e){let{children:n,hidden:t,className:o}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,s.Z)(r.tabItem,o),hidden:t,children:n})}},8447:(e,n,t)=>{t.d(n,{Z:()=>y});var s=t(7378),r=t(7140),a=t(9169),o=t(3620),i=t(9749),l=t(8981),c=t(56),u=t(8796);function d(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:s,default:r}}=e;return{value:n,label:t,attributes:s,default:r}}))}(t);return function(e){const n=(0,c.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const r=(0,o.k6)(),a=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l._X)(a),(0,s.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(r.location.search);n.set(a,e),r.replace({...r.location,search:n.toString()})}),[a,r])]}function g(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,a=h(e),[o,l]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=t.find((e=>e.default))??t[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:a}))),[c,d]=m({queryString:t,groupId:r}),[g,b]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,a]=(0,u.Nk)(t);return[r,(0,s.useCallback)((e=>{t&&a.set(e)}),[t,a])]}({groupId:r}),j=(()=>{const e=c??g;return p({value:e,tabValues:a})?e:null})();(0,i.Z)((()=>{j&&l(j)}),[j]);return{selectedValue:o,selectValue:(0,s.useCallback)((e=>{if(!p({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),b(e)}),[d,b,a]),tabValues:a}}var b=t(362);const j={tabList:"tabList_J5MA",tabItem:"tabItem_l0OV"};var x=t(4246);function f(e){let{className:n,block:t,selectedValue:s,selectValue:o,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.o5)(),u=e=>{const n=e.currentTarget,t=l.indexOf(n),r=i[t].value;r!==s&&(c(n),o(r))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:a}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>l.push(e),onKeyDown:d,onClick:u,...a,className:(0,r.Z)("tabs__item",j.tabItem,a?.className,{"tabs__item--active":s===n}),children:t??n},n)}))})}function v(e){let{lazy:n,children:t,selectedValue:r}=e;const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===r));return e?(0,s.cloneElement)(e,{className:"margin-top--md"}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function w(e){const n=g(e);return(0,x.jsxs)("div",{className:(0,r.Z)("tabs-container",j.tabList),children:[(0,x.jsx)(f,{...e,...n}),(0,x.jsx)(v,{...e,...n})]})}function y(e){const n=(0,b.Z)();return(0,x.jsx)(w,{...e,children:d(e.children)},String(n))}},2312:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var s=t(4246),r=t(1670),a=t(8447),o=t(2599);const i={id:"troubleshooting",title:"Rezolvarea problemelor"},l=void 0,c={unversionedId:"troubleshooting",id:"version-29.5/troubleshooting",title:"Rezolvarea problemelor",description:"Uh oh, something went wrong? Use this guide to resolve issues with Jest.",source:"@site/i18n/ro/docusaurus-plugin-content-docs/version-29.5/Troubleshooting.md",sourceDirName:".",slug:"/troubleshooting",permalink:"/ro/docs/29.5/troubleshooting",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/jest-v2/ro",tags:[],version:"29.5",frontMatter:{id:"troubleshooting",title:"Rezolvarea problemelor"},sidebar:"docs",previous:{title:"Migrarea spre Jest",permalink:"/ro/docs/29.5/migration-guide"},next:{title:"Architecture",permalink:"/ro/docs/29.5/architecture"}},u={},d=[{value:"Testele cad \u015fi nu \u015ftii de ce",id:"testele-cad-\u015fi-nu-\u015ftii-de-ce",level:2},{value:"Depanarea \xeen VS Code",id:"depanarea-\xeen-vs-code",level:2},{value:"Depanarea \xeen WebStorm",id:"depanarea-\xeen-webstorm",level:2},{value:"Probleme de caching",id:"probleme-de-caching",level:2},{value:"Promisiuni nerezolvate",id:"promisiuni-nerezolvate",level:2},{value:"Probleme cu Watchman",id:"probleme-cu-watchman",level:2},{value:"Testele sunt extrem de lente pe Docker \u0219i/sau pe serverul de Integrare Continu\u0103 (CI).",id:"testele-sunt-extrem-de-lente-pe-docker-\u0219isau-pe-serverul-de-integrare-continu\u0103-ci",level:2},{value:"<code>coveragePathIgnorePatterns</code> seems to not have any effect.",id:"coveragepathignorepatterns-seems-to-not-have-any-effect",level:2},{value:"Defining Tests",id:"defining-tests",level:2},{value:"\xcenc\u0103 nu a\u021bi rezolvat problema?",id:"\xeenc\u0103-nu-a\u021bi-rezolvat-problema",level:2}];function h(e){const n=Object.assign({p:"p",h2:"h2",a:"a",code:"code",pre:"pre",admonition:"admonition",em:"em"},(0,r.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Uh oh, something went wrong? Use this guide to resolve issues with Jest."}),"\n",(0,s.jsx)(n.h2,{id:"testele-cad-\u015fi-nu-\u015ftii-de-ce",children:"Testele cad \u015fi nu \u015ftii de ce"}),"\n",(0,s.jsxs)(n.p,{children:["Try using the ",(0,s.jsx)(n.a,{href:"https://nodejs.org/api/debugger.html",children:"debugging support"})," built into Node. Pune\u0163i o declara\u0163ie ",(0,s.jsx)(n.code,{children:"debugger;"})," \xeen oricare din teste, \u015fi apoi, \xeen proiectul vostru, rula\u021bi:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"node --inspect-brk node_modules/.bin/jest --runInBand [any other arguments here]\nor on Windows\nnode --inspect-brk ./node_modules/jest/bin/jest.js --runInBand [any other arguments here]\n"})}),"\n",(0,s.jsx)(n.p,{children:"This will run Jest in a Node process that an external debugger can connect to. Note that the process will pause until the debugger has connected to it."}),"\n",(0,s.jsxs)(n.p,{children:["To debug in Google Chrome (or any Chromium-based browser), open your browser and go to ",(0,s.jsx)(n.code,{children:"chrome://inspect"}),' and click on "Open Dedicated DevTools for Node", which will give you a list of available node instances you can connect to. Click on the address displayed in the terminal (usually something like ',(0,s.jsx)(n.code,{children:"localhost:9229"}),") after running the above command, and you will be able to debug Jest using Chrome's DevTools."]}),"\n",(0,s.jsxs)(n.p,{children:['The Chrome Developer Tools will be displayed, and a breakpoint will be set at the first line of the Jest CLI script (this is done to give you time to open the developer tools and to prevent Jest from executing before you have time to do so). Face\u0163i clic pe butonul care are simbolul "play" \xeen partea superioar\u0103 dreapt\u0103 a ecranului pentru a continua execu\u021bia. C\xe2nd Jest execut\u0103 testul care con\u0163ine declara\u0163ia ',(0,s.jsx)(n.code,{children:"debugger"}),", execu\u021bia se va opri \u015fi pute\u0163i examina stiva de apeluri \u015fi scope-ul curent."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"--runInBand"})," cli option makes sure Jest runs the test in the same process rather than spawning processes for individual tests. \xcen mod normal Jest paralelizeaz\u0103 testele pe mai multe procese, dar este dificil\u0103 depanarea mai multor procese care ruleaz\u0103 \xeen acela\u015fi timp."]})}),"\n",(0,s.jsx)(n.h2,{id:"depanarea-\xeen-vs-code",children:"Depanarea \xeen VS Code"}),"\n",(0,s.jsxs)(n.p,{children:["There are multiple ways to debug Jest tests with ",(0,s.jsx)(n.a,{href:"https://code.visualstudio.com",children:"Visual Studio Code's"})," built-in ",(0,s.jsx)(n.a,{href:"https://code.visualstudio.com/docs/nodejs/nodejs-debugging",children:"debugger"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"S\u0103 ata\u015fa\u0163i debugger-ul incorporat, rula\u0163i testele \xeen felul urm\u0103tor:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"node --inspect-brk node_modules/.bin/jest --runInBand [any other arguments here]\nor on Windows\nnode --inspect-brk ./node_modules/jest/bin/jest.js --runInBand [any other arguments here]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Apoi ata\u015fa\u0163i debugger-ul VS Code folosind urm\u0103toarea configurare ",(0,s.jsx)(n.code,{children:"launch.json"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "version": "0.2.0",\n  "configurations": [\n    {\n      "type": "node",\n      "request": "attach",\n      "name": "Attach",\n      "port": 9229\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Pentru lansarea automat\u0103 \u015fi ata\u015farea la un proces care execut\u0103 testele, utiliza\u0163i urm\u0103toarea configura\u0163ie:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "version": "0.2.0",\n  "configurations": [\n    {\n      "name": "Debug Jest Tests",\n      "type": "node",\n      "request": "launch",\n      "runtimeArgs": [\n        "--inspect-brk",\n        "${workspaceRoot}/node_modules/.bin/jest",\n        "--runInBand"\n      ],\n      "console": "integratedTerminal",\n      "internalConsoleOptions": "neverOpen"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"or the following for Windows:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "version": "0.2.0",\n  "configurations": [\n    {\n      "name": "Debug Jest Tests",\n      "type": "node",\n      "request": "launch",\n      "runtimeArgs": [\n        "--inspect-brk",\n        "${workspaceRoot}/node_modules/jest/bin/jest.js",\n        "--runInBand"\n      ],\n      "console": "integratedTerminal",\n      "internalConsoleOptions": "neverOpen"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Dac\u0103 utiliza\u0163i pachetul de la Facebook ",(0,s.jsxs)(n.a,{href:"https://github.com/facebookincubator/create-react-app",children:[" ",(0,s.jsx)(n.code,{children:"create-react-app"})]}),", pute\u0163i depana testele Jest cu urm\u0103toarea configura\u021bie:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "version": "0.2.0",\n  "configurations": [\n    {\n      "name": "Debug CRA Tests",\n      "type": "node",\n      "request": "launch",\n      "runtimeExecutable": "${workspaceRoot}/node_modules/.bin/react-scripts",\n      "args": [\n        "test",\n        "--runInBand",\n        "--no-cache",\n        "--env=jsdom",\n        "--watchAll=false"\n      ],\n      "cwd": "${workspaceRoot}",\n      "console": "integratedTerminal",\n      "internalConsoleOptions": "neverOpen"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Mai multe informa\u0163ii despre depanarea Node pot fi g\u0103site ",(0,s.jsx)(n.a,{href:"https://nodejs.org/api/debugger.html",children:"aici"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"depanarea-\xeen-webstorm",children:"Depanarea \xeen WebStorm"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://www.jetbrains.com/webstorm/",children:"WebStorm"})," has built-in support for Jest. Read ",(0,s.jsx)(n.a,{href:"https://blog.jetbrains.com/webstorm/2018/10/testing-with-jest-in-webstorm/",children:"Testing With Jest in WebStorm"})," to learn more."]}),"\n",(0,s.jsx)(n.h2,{id:"probleme-de-caching",children:"Probleme de caching"}),"\n",(0,s.jsx)(n.p,{children:"The transform script was changed or Babel was updated and the changes aren't being recognized by Jest?"}),"\n",(0,s.jsxs)(n.p,{children:["\xcencerca\u021bi din nou cu ",(0,s.jsxs)(n.a,{href:"/ro/docs/29.5/cli#--cache",children:[" ",(0,s.jsx)(n.code,{children:"--no-cache"})]}),". Jest cache-uie fi\u015fierele modulelor transformate pentru a accelera execu\u021bia testelor. If you are using your own custom transformer, consider adding a ",(0,s.jsx)(n.code,{children:"getCacheKey"})," function to it: ",(0,s.jsx)(n.a,{href:"https://github.com/facebook/relay/blob/58cf36c73769690f0bbf90562707eadb062b029d/scripts/jest/preprocessor.js#L56-L61",children:"getCacheKey in Relay"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"promisiuni-nerezolvate",children:"Promisiuni nerezolvate"}),"\n",(0,s.jsx)(n.p,{children:"\xcen cazul \xeen care o promisiune nu se rezolv\u0103 deloc, aceast\u0103 eroare ar putea fi aruncat\u0103:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"- Error: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.`\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Acest lucru este cauzat cel mai frecvent de implement\u0103ri contradictorii pentru Promise. Consider replacing the global promise implementation with your own, for example ",(0,s.jsx)(n.code,{children:"globalThis.Promise = jest.requireActual('promise');"})," and/or consolidate the used Promise libraries to a single one."]}),"\n",(0,s.jsxs)(n.p,{children:["If your test is long running, you may want to consider to increase the timeout by calling ",(0,s.jsx)(n.code,{children:"jest.setTimeout"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"jest.setTimeout(10000); // 10 second timeout\n"})}),"\n",(0,s.jsx)(n.h2,{id:"probleme-cu-watchman",children:"Probleme cu Watchman"}),"\n",(0,s.jsxs)(n.p,{children:["Try running Jest with ",(0,s.jsx)(n.a,{href:"/ro/docs/29.5/cli#--watchman",children:(0,s.jsx)(n.code,{children:"--no-watchman"})})," or set the ",(0,s.jsx)(n.code,{children:"watchman"})," configuration option to ",(0,s.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["De asemenea, consulta\u0163i ",(0,s.jsx)(n.a,{href:"https://facebook.github.io/watchman/docs/troubleshooting",children:" depanarea watchman"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"testele-sunt-extrem-de-lente-pe-docker-\u0219isau-pe-serverul-de-integrare-continu\u0103-ci",children:"Testele sunt extrem de lente pe Docker \u0219i/sau pe serverul de Integrare Continu\u0103 (CI)."}),"\n",(0,s.jsxs)(n.p,{children:["While Jest is most of the time extremely fast on modern multi-core computers with fast SSDs, it may be slow on certain setups as our users ",(0,s.jsx)(n.a,{href:"https://github.com/jestjs/jest/issues/1395",children:"have"})," ",(0,s.jsx)(n.a,{href:"https://github.com/jestjs/jest/issues/1524#issuecomment-260246008",children:"discovered"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Based on the ",(0,s.jsx)(n.a,{href:"https://github.com/jestjs/jest/issues/1524#issuecomment-262366820",children:"findings"}),", one way to mitigate this issue and improve the speed by up to 50% is to run tests sequentially."]}),"\n",(0,s.jsxs)(n.p,{children:["Pentru aceasta pute\u0163i rula teste \xeen acela\u015fi proces folosind ",(0,s.jsxs)(n.a,{href:"/ro/docs/29.5/cli#--runinband",children:[" ",(0,s.jsx)(n.code,{children:"--runInBand"})]}),":"]}),"\n",(0,s.jsxs)(a.Z,{groupId:"npm2yarn",children:[(0,s.jsx)(o.Z,{value:"npm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Using Jest CLI\njest --runInBand\n\n# Using your package manager's `test` script (e.g. with create-react-app)\nnpm test -- --runInBand\n"})})}),(0,s.jsx)(o.Z,{value:"yarn",label:"Yarn",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Using Jest CLI\njest --runInBand\n\n# Using your package manager's `test` script (e.g. with create-react-app)\nyarn test --runInBand\n"})})}),(0,s.jsx)(o.Z,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Using Jest CLI\njest --runInBand\n\n# Using your package manager's `test` script (e.g. with create-react-app)\npnpm test -- --runInBand\n"})})})]}),"\n",(0,s.jsxs)(n.p,{children:["Another alternative to expediting test execution time on Continuous Integration Servers such as Travis-CI is to set the max worker pool to ~",(0,s.jsx)(n.em,{children:"4"}),". \xcen mod specific pe Travis-CI, acest lucru poate reduce timpul de execu\u021bie a testelor la jum\u0103tate. Not\u0103: Planul ",(0,s.jsx)(n.em,{children:"gratuit"})," de la Travis CI disponibil pentru proiecte open source include doar 2 nuclee CPU."]}),"\n",(0,s.jsxs)(a.Z,{groupId:"npm2yarn",children:[(0,s.jsx)(o.Z,{value:"npm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Using Jest CLI\njest --maxWorkers=4\n\n# Using your package manager's `test` script (e.g. with create-react-app)\nnpm test -- --maxWorkers=4\n"})})}),(0,s.jsx)(o.Z,{value:"yarn",label:"Yarn",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Using Jest CLI\njest --maxWorkers=4\n\n# Using your package manager's `test` script (e.g. with create-react-app)\nyarn test --maxWorkers=4\n"})})}),(0,s.jsx)(o.Z,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Using Jest CLI\njest --maxWorkers=4\n\n# Using your package manager's `test` script (e.g. with create-react-app)\npnpm test -- --maxWorkers=4\n"})})})]}),"\n",(0,s.jsxs)(n.p,{children:["If you use GitHub Actions, you can use ",(0,s.jsx)(n.a,{href:"https://github.com/SimenB/github-actions-cpu-cores",children:(0,s.jsx)(n.code,{children:"github-actions-cpu-cores"})})," to detect number of CPUs, and pass that to Jest."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"- name: Get number of CPU cores\n  id: cpu-cores\n  uses: SimenB/github-actions-cpu-cores@v1\n- name: run tests\n  run: yarn jest --max-workers ${{ steps.cpu-cores.outputs.count }}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Another thing you can do is use the ",(0,s.jsx)(n.a,{href:"/ro/docs/29.5/cli#--shard",children:(0,s.jsx)(n.code,{children:"shard"})})," flag to parallelize the test run across multiple machines."]}),"\n",(0,s.jsxs)(n.h2,{id:"coveragepathignorepatterns-seems-to-not-have-any-effect",children:[(0,s.jsx)(n.code,{children:"coveragePathIgnorePatterns"})," seems to not have any effect."]}),"\n",(0,s.jsxs)(n.p,{children:["Make sure you are not using the ",(0,s.jsx)(n.code,{children:"babel-plugin-istanbul"})," plugin. Jest wraps Istanbul, and therefore also tells Istanbul what files to instrument with coverage collection. When using ",(0,s.jsx)(n.code,{children:"babel-plugin-istanbul"}),", every file that is processed by Babel will have coverage collection code, hence it is not being ignored by ",(0,s.jsx)(n.code,{children:"coveragePathIgnorePatterns"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"defining-tests",children:"Defining Tests"}),"\n",(0,s.jsx)(n.p,{children:"Tests must be defined synchronously for Jest to be able to collect your tests."}),"\n",(0,s.jsx)(n.p,{children:"As an example to show why this is the case, imagine we wrote a test like so:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// Don't do this it will not work\nsetTimeout(() => {\n  it('passes', () => expect(1).toBe(1));\n}, 0);\n"})}),"\n",(0,s.jsxs)(n.p,{children:["When Jest runs your test to collect the ",(0,s.jsx)(n.code,{children:"test"}),"s it will not find any because we have set the definition to happen asynchronously on the next tick of the event loop. This means when you are using ",(0,s.jsx)(n.code,{children:"test.each"})," you cannot set the table asynchronously within a ",(0,s.jsx)(n.code,{children:"beforeEach"})," / ",(0,s.jsx)(n.code,{children:"beforeAll"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"\xeenc\u0103-nu-a\u021bi-rezolvat-problema",children:"\xcenc\u0103 nu a\u021bi rezolvat problema?"}),"\n",(0,s.jsxs)(n.p,{children:["Consulta\u0163i ",(0,s.jsx)(n.a,{href:"/help.html",children:"ajutor"}),"."]})]})}const p=function(e={}){const{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(h,e)})):h(e)}},1670:(e,n,t)=>{t.d(n,{Zo:()=>i,ah:()=>a});var s=t(7378);const r=s.createContext({});function a(e){const n=s.useContext(r);return s.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const o={};function i({components:e,children:n,disableParentContext:t}){let i;return i=t?"function"==typeof e?e({}):e||o:a(e),s.createElement(r.Provider,{value:i},n)}}}]);