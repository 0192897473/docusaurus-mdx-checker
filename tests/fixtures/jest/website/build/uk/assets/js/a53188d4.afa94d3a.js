"use strict";(self.webpackChunkjest_website=self.webpackChunkjest_website||[]).push([[200],{446:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>u,contentTitle:()=>a,default:()=>x,frontMatter:()=>d,metadata:()=>m,toc:()=>j});var t=s(4246),o=s(1670),i=s(8447),c=s(2599),l=s(5082),r=s(6294);const d={id:"jest-object",title:"\u041e\u0431\u2019\u0454\u043a\u0442 Jest"},a=void 0,m={unversionedId:"jest-object",id:"jest-object",title:"\u041e\u0431\u2019\u0454\u043a\u0442 Jest",description:"\u041e\u0431'\u0454\u043a\u0442 jest \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0456 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0443. \u041c\u0435\u0442\u043e\u0434\u0438 \u0432 \u043e\u0431'\u0454\u043a\u0442\u0456 jest \u0434\u043e\u043f\u043e\u043c\u0430\u0433\u0430\u044e\u0442\u044c \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457 \u0442\u0430 \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442\u044c \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044e\u0432\u0430\u0442\u0438 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0443 \u043f\u043e\u0432\u0435\u0434\u0456\u043d\u043a\u0443 Jest. \u0422\u0430\u043a\u043e\u0436 \u0439\u043e\u0433\u043e \u043c\u043e\u0436\u043d\u0430 \u0456\u043c\u043f\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u044f\u0432\u043d\u043e \u0447\u0435\u0440\u0435\u0437 import  from '@jest/globals'.",source:"@site/i18n/uk/docusaurus-plugin-content-docs/current/JestObjectAPI.md",sourceDirName:".",slug:"/jest-object",permalink:"/uk/docs/next/jest-object",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/jest-v2/uk",tags:[],version:"current",frontMatter:{id:"jest-object",title:"\u041e\u0431\u2019\u0454\u043a\u0442 Jest"},sidebar:"api",previous:{title:"\u0424\u0443\u043d\u043a\u0446\u0456\u0457-\u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457",permalink:"/uk/docs/next/mock-function-api"},next:{title:"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f Jest",permalink:"/uk/docs/next/configuration"}},u={},j=[{value:"\u041c\u0435\u0442\u043e\u0434\u0438",id:"\u043c\u0435\u0442\u043e\u0434\u0438",level:2},{value:"Mock Modules",id:"mock-modules",level:2},{value:"<code>jest.disableAutomock()</code>",id:"jestdisableautomock",level:3},{value:"<code>jest.enableAutomock()</code>",id:"jestenableautomock",level:3},{value:"<code>jest.createMockFromModule(moduleName)</code>",id:"jestcreatemockfrommodulemodulename",level:3},{value:"<code>Function</code>",id:"function",level:4},{value:"<code>Class</code>",id:"class",level:4},{value:"<code>Object</code>",id:"object",level:4},{value:"<code>Array</code>",id:"array",level:4},{value:"<code>Primitives</code>",id:"primitives",level:4},{value:"<code>jest.mock(moduleName, factory, options)</code>",id:"jestmockmodulename-factory-options",level:3},{value:"<code>jest.Mocked&lt;Source&gt;</code>",id:"jestmockedsource",level:3},{value:"<code>jest.mocked(source, options?)</code>",id:"jestmockedsource-options",level:3},{value:"<code>jest.unmock(moduleName)</code>",id:"jestunmockmodulename",level:3},{value:"<code>jest.deepUnmock(moduleName)</code>",id:"jestdeepunmockmodulename",level:3},{value:"<code>jest.doMock(moduleName, factory, options)</code>",id:"jestdomockmodulename-factory-options",level:3},{value:"<code>jest.dontMock(moduleName)</code>",id:"jestdontmockmodulename",level:3},{value:"<code>jest.setMock(moduleName, moduleExports)</code>",id:"jestsetmockmodulename-moduleexports",level:3},{value:"<code>jest.requireActual(moduleName)</code>",id:"jestrequireactualmodulename",level:3},{value:"<code>jest.requireMock(moduleName)</code>",id:"jestrequiremockmodulename",level:3},{value:"<code>jest.resetModules()</code>",id:"jestresetmodules",level:3},{value:"<code>jest.isolateModules(fn)</code>",id:"jestisolatemodulesfn",level:3},{value:"<code>jest.isolateModulesAsync(fn)</code>",id:"jestisolatemodulesasyncfn",level:3},{value:"\u0424\u0443\u043d\u043a\u0446\u0456\u0457-\u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457",id:"\u0444\u0443\u043d\u043a\u0446\u0456\u0457-\u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457",level:2},{value:"<code>jest.fn(implementation?)</code>",id:"jestfnimplementation",level:3},{value:"<code>jest.isMockFunction(fn)</code>",id:"jestismockfunctionfn",level:3},{value:"<code>jest.replaceProperty(object, propertyKey, value)</code>",id:"jestreplacepropertyobject-propertykey-value",level:3},{value:"<code>jest.spyOn(object, methodName)</code>",id:"jestspyonobject-methodname",level:3},{value:"<code>jest.spyOn(object, methodName, accessType?)</code>",id:"jestspyonobject-methodname-accesstype",level:3},{value:"<code>jest.Replaced&lt;Source&gt;</code>",id:"jestreplacedsource",level:3},{value:"<code>jest.Spied&lt;Source&gt;</code>",id:"jestspiedsource",level:3},{value:"<code>jest.clearAllMocks()</code>",id:"jestclearallmocks",level:3},{value:"<code>jest.resetAllMocks()</code>",id:"jestresetallmocks",level:3},{value:"<code>jest.restoreAllMocks()</code>",id:"jestrestoreallmocks",level:3},{value:"\u0424\u0456\u043a\u0442\u0438\u0432\u043d\u0456 \u0442\u0430\u0439\u043c\u0435\u0440\u0438",id:"\u0444\u0456\u043a\u0442\u0438\u0432\u043d\u0456-\u0442\u0430\u0439\u043c\u0435\u0440\u0438",level:2},{value:"<code>jest.useFakeTimers(fakeTimersConfig?)</code>",id:"jestusefaketimersfaketimersconfig",level:3},{value:"<code>jest.useRealTimers()</code>",id:"jestuserealtimers",level:3},{value:"<code>jest.runAllTicks()</code>",id:"jestrunallticks",level:3},{value:"<code>jest.runAllTimers()</code>",id:"jestrunalltimers",level:3},{value:"<code>jest.runAllTimersAsync()</code>",id:"jestrunalltimersasync",level:3},{value:"<code>jest.runAllImmediates()</code>",id:"jestrunallimmediates",level:3},{value:"<code>jest.advanceTimersByTime(msToRun)</code>",id:"jestadvancetimersbytimemstorun",level:3},{value:"<code>jest.advanceTimersByTimeAsync(msToRun)</code>",id:"jestadvancetimersbytimeasyncmstorun",level:3},{value:"<code>jest.runOnlyPendingTimers()</code>",id:"jestrunonlypendingtimers",level:3},{value:"<code>jest.runOnlyPendingTimersAsync()</code>",id:"jestrunonlypendingtimersasync",level:3},{value:"<code>jest.advanceTimersToNextTimer(steps)</code>",id:"jestadvancetimerstonexttimersteps",level:3},{value:"<code>jest.advanceTimersToNextTimerAsync(steps)</code>",id:"jestadvancetimerstonexttimerasyncsteps",level:3},{value:"<code>jest.clearAllTimers()</code>",id:"jestclearalltimers",level:3},{value:"<code>jest.getTimerCount()</code>",id:"jestgettimercount",level:3},{value:"<code>jest.now()</code>",id:"jestnow",level:3},{value:"<code>jest.setSystemTime(now?: number | Date)</code>",id:"jestsetsystemtimenow-number--date",level:3},{value:"<code>jest.getRealSystemTime()</code>",id:"jestgetrealsystemtime",level:3},{value:"Misc",id:"misc",level:2},{value:"<code>jest.getSeed()</code>",id:"jestgetseed",level:3},{value:"<code>jest.isEnvironmentTornDown()</code>",id:"jestisenvironmenttorndown",level:3},{value:"<code>jest.retryTimes(numRetries, options?)</code>",id:"jestretrytimesnumretries-options",level:3},{value:"<code>jest.setTimeout(timeout)</code>",id:"jestsettimeouttimeout",level:3}];function h(e){const n=Object.assign({p:"p",code:"code",h2:"h2",hr:"hr",h3:"h3",admonition:"admonition",a:"a",pre:"pre",h4:"h4",ul:"ul",li:"li",strong:"strong",em:"em"},(0,o.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["\u041e\u0431'\u0454\u043a\u0442 ",(0,t.jsx)(n.code,{children:"jest"})," \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0456 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0443. \u041c\u0435\u0442\u043e\u0434\u0438 \u0432 \u043e\u0431'\u0454\u043a\u0442\u0456 ",(0,t.jsx)(n.code,{children:"jest"})," \u0434\u043e\u043f\u043e\u043c\u0430\u0433\u0430\u044e\u0442\u044c \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457 \u0442\u0430 \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442\u044c \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044e\u0432\u0430\u0442\u0438 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0443 \u043f\u043e\u0432\u0435\u0434\u0456\u043d\u043a\u0443 Jest. \u0422\u0430\u043a\u043e\u0436 \u0439\u043e\u0433\u043e \u043c\u043e\u0436\u043d\u0430 \u0456\u043c\u043f\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u044f\u0432\u043d\u043e \u0447\u0435\u0440\u0435\u0437 ",(0,t.jsx)(n.code,{children:"import {jest} from '@jest/globals'"}),"."]}),"\n","\n",(0,t.jsx)(l.ZP,{}),"\n",(0,t.jsx)(n.h2,{id:"\u043c\u0435\u0442\u043e\u0434\u0438",children:"\u041c\u0435\u0442\u043e\u0434\u0438"}),"\n","\n","\n",(0,t.jsx)(r.Z,{toc:j.slice(1)}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"mock-modules",children:"Mock Modules"}),"\n",(0,t.jsx)(n.h3,{id:"jestdisableautomock",children:(0,t.jsx)(n.code,{children:"jest.disableAutomock()"})}),"\n",(0,t.jsx)(n.p,{children:"\u0412\u0438\u043c\u0438\u043a\u0430\u0454 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u0443 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044e \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0439 \u0432 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0432\u0430\u0447\u0456 \u043c\u043e\u0434\u0443\u043b\u0456\u0432."}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsxs)(n.p,{children:["\u0410\u0431\u0438 \u0446\u0435\u0439 \u043c\u0435\u0442\u043e\u0434 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0432, \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u0435 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0439 \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u0431\u0443\u0442\u0438 \u0443\u0432\u0456\u043c\u043a\u043d\u0435\u043d\u043e \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0443 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0457 ",(0,t.jsx)(n.a,{href:"/uk/docs/next/configuration#automock-boolean",children:(0,t.jsx)(n.code,{children:"automock"})}),". \u0411\u0456\u043b\u044c\u0448 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u0448\u0443\u043a\u0430\u0439\u0442\u0435 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0443 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0457."]}),(0,t.jsxs)(i.Z,{groupId:"code-examples",children:[(0,t.jsx)(c.Z,{value:"js",label:"JavaScript",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"tab",children:"/** @type {import('jest').Config} */\nconst config = {\n  automock: true,\n};\n\nmodule.exports = config;\n"})})}),(0,t.jsx)(c.Z,{value:"ts",label:"TypeScript",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"tab",children:"import type {Config} from 'jest';\n\nconst config: Config = {\n  automock: true,\n};\n\nexport default config;\n"})})})]})]}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u0456\u0441\u043b\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0431\u0443\u0434\u0435 \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u043d\u0438\u0439 ",(0,t.jsx)(n.code,{children:"disableAutomock()"}),", \u0432\u0441\u0456 \u0432\u0438\u043a\u043b\u0438\u043a\u0438 ",(0,t.jsx)(n.code,{children:"require()"})," \u0431\u0443\u0434\u0443\u0442\u044c \u043f\u043e\u0432\u0435\u0440\u0442\u0430\u0442\u0438 \u0440\u0435\u0430\u043b\u044c\u043d\u0456 \u0432\u0435\u0440\u0441\u0456\u0457 \u043c\u043e\u0434\u0443\u043b\u0456\u0432 (\u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0457\u0445 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0439)."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="utils.js"',children:"export default {\n  authorize: () => {\n    return 'token';\n  },\n};\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="__tests__/disableAutomocking.js"',children:"import utils from '../utils';\n\njest.disableAutomock();\n\ntest('original implementation', () => {\n  // now we have the original implementation,\n  // even if we set the automocking in a jest configuration\n  expect(utils.authorize()).toBe('token');\n});\n"})}),"\n",(0,t.jsx)(n.p,{children:'\u0417\u0430\u0437\u0432\u0438\u0447\u0430\u0439 \u0446\u0435 \u0431\u0443\u0432\u0430\u0454 \u043a\u043e\u0440\u0438\u0441\u043d\u043e, \u043a\u043e\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0454 \u0441\u0446\u0435\u043d\u0430\u0440\u0456\u0439, \u0432 \u044f\u043a\u043e\u043c\u0443 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0435\u0439, \u0434\u043b\u044f \u044f\u043a\u0438\u0445 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457, \u0437\u043d\u0430\u0447\u043d\u043e \u043c\u0435\u043d\u0448\u0430, \u043d\u0456\u0436 \u0442\u0438\u0445, \u0434\u043b\u044f \u044f\u043a\u0438\u0445 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457 \u043d\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456. \u041d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u044f\u043a\u0449\u043e \u0432\u0438 \u043f\u0438\u0448\u0435\u0442\u0435 \u0442\u0435\u0441\u0442 \u0434\u043b\u044f \u043c\u043e\u0434\u0443\u043b\u044f, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u0435\u043b\u0438\u043a\u0443 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0435\u0439, \u0449\u043e \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u043a\u043b\u0430\u0441\u0438\u0444\u0456\u043a\u043e\u0432\u0430\u043d\u0456 \u044f\u043a "\u0434\u0435\u0442\u0430\u043b\u0456 \u0440\u0435\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u0457" \u043c\u043e\u0434\u0443\u043b\u044f, \u0442\u043e\u0434\u0456 \u0432\u0430\u043c, \u0441\u0445\u043e\u0436\u0435, \u043d\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457 \u0434\u043b\u044f \u043d\u0438\u0445 \u0443\u0441\u0456\u0445.'}),"\n",(0,t.jsxs)(n.p,{children:['\u041f\u0440\u0438\u043a\u043b\u0430\u0434\u0438 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0435\u0439, \u044f\u043a\u0456 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0440\u043e\u0437\u0446\u0456\u043d\u0435\u043d\u0456 \u044f\u043a "\u0434\u0435\u0442\u0430\u043b\u0456 \u0440\u0435\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u0457", \u043f\u043e\u0447\u0438\u043d\u0430\u044e\u0442\u044c\u0441\u044f \u0437 \u0432\u0431\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0445 \u043c\u0435\u0442\u043e\u0434\u0456\u0432 \u043c\u043e\u0432\u0438 (\u0442\u0430\u043a\u0456 \u044f\u043a \u043c\u0435\u0442\u043e\u0434\u0438 ',(0,t.jsx)(n.code,{children:"Array.prototype"}),") \u0456 \u0437\u0430\u043a\u0456\u043d\u0447\u0443\u044e\u0442\u044c\u0441\u044f \u0434\u0443\u0436\u0435 \u043f\u043e\u0448\u0438\u0440\u0435\u043d\u0438\u043c\u0438 \u0434\u043e\u043f\u043e\u043c\u0456\u0436\u043d\u0438\u043c\u0438 \u043c\u0435\u0442\u043e\u0434\u0430\u043c\u0438 (\u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, ",(0,t.jsx)(n.code,{children:"underscore"}),", ",(0,t.jsx)(n.code,{children:"lodash"}),", \u0456 \u0442\u0430\u043a \u0434\u0430\u043b\u0456) \u0447\u0438 \u043d\u0430\u0432\u0456\u0442\u044c \u0446\u0456\u043b\u0438\u043c\u0438 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430\u043c\u0438 \u0442\u0438\u043f\u0443 ",(0,t.jsx)(n.code,{children:"React.js"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043e\u0431\u2019\u0454\u043a\u0442 ",(0,t.jsx)(n.code,{children:"jest"})," \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043b\u0430\u043d\u0446\u044e\u0436\u043a\u0456\u0432 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432."]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["\u041a\u043e\u043b\u0438 \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 ",(0,t.jsx)(n.code,{children:"babel-jest"}),", \u0432\u0438\u043a\u043b\u0438\u043a\u0438 ",(0,t.jsx)(n.code,{children:"disableAutomock()"})," \u0431\u0443\u0434\u0443\u0442\u044c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e \u0441\u043f\u043b\u0438\u0432\u0430\u0442\u0438 \u0434\u043e \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0431\u043b\u043e\u043a\u0443 \u043a\u043e\u0434\u0443. \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 ",(0,t.jsx)(n.code,{children:"autoMockOff()"}),", \u044f\u043a\u0449\u043e \u0432\u0438 \u0445\u043e\u0447\u0435\u0442\u0435 \u044f\u0432\u043d\u043e \u0437\u0430\u0431\u043e\u0440\u043e\u043d\u0438\u0442\u0438 \u0442\u0430\u043a\u0443 \u043f\u043e\u0432\u0435\u0434\u0456\u043d\u043a\u0443."]})}),"\n",(0,t.jsx)(n.h3,{id:"jestenableautomock",children:(0,t.jsx)(n.code,{children:"jest.enableAutomock()"})}),"\n",(0,t.jsx)(n.p,{children:"\u0412\u043c\u0438\u043a\u0430\u0454 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u0443 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044e \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0439 \u0432 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0432\u0430\u0447\u0456 \u043c\u043e\u0434\u0443\u043b\u0456\u0432."}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["\u0414\u043e\u043a\u043b\u0430\u0434\u043d\u0456\u0448\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u0435 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0439 \u0448\u0443\u043a\u0430\u0439\u0442\u0435 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0443 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0457 ",(0,t.jsx)(n.a,{href:"/uk/docs/next/configuration#automock-boolean",children:(0,t.jsx)(n.code,{children:"automock"})}),"."]})}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="utils.js"',children:"export default {\n  authorize: () => {\n    return 'token';\n  },\n  isAuthorized: secret => secret === 'wizard',\n};\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="__tests__/enableAutomocking.js"',children:"jest.enableAutomock();\n\nimport utils from '../utils';\n\ntest('original implementation', () => {\n  // now we have the mocked implementation,\n  expect(utils.authorize._isMockFunction).toBeTruthy();\n  expect(utils.isAuthorized._isMockFunction).toBeTruthy();\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043e\u0431\u2019\u0454\u043a\u0442 ",(0,t.jsx)(n.code,{children:"jest"})," \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043b\u0430\u043d\u0446\u044e\u0436\u043a\u0456\u0432 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432."]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["\u041a\u043e\u043b\u0438 \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 ",(0,t.jsx)(n.code,{children:"babel-jest"}),", \u0432\u0438\u043a\u043b\u0438\u043a\u0438 ",(0,t.jsx)(n.code,{children:"enableAutomock"})," \u0431\u0443\u0434\u0443\u0442\u044c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e \u0441\u043f\u043b\u0438\u0432\u0430\u0442\u0438 \u0434\u043e \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0431\u043b\u043e\u043a\u0443 \u043a\u043e\u0434\u0443. \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 ",(0,t.jsx)(n.code,{children:"autoMockOn"}),", \u044f\u043a\u0449\u043e \u0432\u0438 \u0445\u043e\u0447\u0435\u0442\u0435 \u044f\u0432\u043d\u043e \u0437\u0430\u0431\u043e\u0440\u043e\u043d\u0438\u0442\u0438 \u0442\u0430\u043a\u0443 \u043f\u043e\u0432\u0435\u0434\u0456\u043d\u043a\u0443."]})}),"\n",(0,t.jsx)(n.h3,{id:"jestcreatemockfrommodulemodulename",children:(0,t.jsx)(n.code,{children:"jest.createMockFromModule(moduleName)"})}),"\n",(0,t.jsx)(n.p,{children:"\u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0456 \u0437\u0430\u0434\u0430\u043d\u043e\u0433\u043e \u043c\u043e\u0434\u0443\u043b\u044f, \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e\u0433\u043e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0439 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457 \u043c\u043e\u0434\u0443\u043b\u044f."}),"\n",(0,t.jsxs)(n.p,{children:["\u0426\u0435 \u043a\u043e\u0440\u0438\u0441\u043d\u043e, \u043a\u043e\u043b\u0438 \u0432\u0438 \u0445\u043e\u0447\u0435\u0442\u0435 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 ",(0,t.jsx)(n.a,{href:"/uk/docs/next/manual-mocks",children:"\u0440\u0443\u0447\u043d\u0443 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u044e"}),", \u044f\u043a\u0430 \u0440\u043e\u0437\u0448\u0438\u0440\u044e\u0454 \u043f\u043e\u0432\u0435\u0434\u0456\u043d\u043a\u0443 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e\u0457 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457 \u043c\u043e\u0434\u0443\u043b\u044f:"]}),"\n",(0,t.jsxs)(i.Z,{groupId:"code-examples",children:[(0,t.jsxs)(c.Z,{value:"js",label:"JavaScript",children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'tab={"span":2} title="utils.js"',children:"module.exports = {\n  authorize: () => {\n    return 'token';\n  },\n  isAuthorized: secret => secret === 'wizard',\n};\n"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="__tests__/createMockFromModule.test.js"',children:"const utils = jest.createMockFromModule('../utils');\n\nutils.isAuthorized = jest.fn(secret => secret === 'not wizard');\n\ntest('implementation created by jest.createMockFromModule', () => {\n  expect(jest.isMockFunction(utils.authorize)).toBe(true);\n  expect(utils.isAuthorized('not wizard')).toBe(true);\n});\n"})})]}),(0,t.jsxs)(c.Z,{value:"ts",label:"TypeScript",children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:'tab={"span":2} title="utils.ts"',children:"export const utils = {\n  authorize: () => {\n    return 'token';\n  },\n  isAuthorized: (secret: string) => secret === 'wizard',\n};\n"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:'title="__tests__/createMockFromModule.test.ts"',children:"const {utils} =\n  jest.createMockFromModule<typeof import('../utils')>('../utils');\n\nutils.isAuthorized = jest.fn((secret: string) => secret === 'not wizard');\n\ntest('implementation created by jest.createMockFromModule', () => {\n  expect(jest.isMockFunction(utils.authorize)).toBe(true);\n  expect(utils.isAuthorized('not wizard')).toBe(true);\n});\n"})})]})]}),"\n",(0,t.jsxs)(n.p,{children:["This is how ",(0,t.jsx)(n.code,{children:"createMockFromModule"})," will mock the following data types:"]}),"\n",(0,t.jsx)(n.h4,{id:"function",children:(0,t.jsx)(n.code,{children:"Function"})}),"\n",(0,t.jsxs)(n.p,{children:["\u0421\u0442\u0432\u043e\u0440\u044e\u0454 \u043d\u043e\u0432\u0443 ",(0,t.jsx)(n.a,{href:"/uk/docs/next/mock-function-api",children:"\u0444\u0443\u043d\u043a\u0446\u0456\u044e-\u0456\u043c\u0456\u0442\u0430\u0446\u0456\u044e"}),". The new function has no formal parameters and when called will return ",(0,t.jsx)(n.code,{children:"undefined"}),". This functionality also applies to ",(0,t.jsx)(n.code,{children:"async"})," functions."]}),"\n",(0,t.jsx)(n.h4,{id:"class",children:(0,t.jsx)(n.code,{children:"Class"})}),"\n",(0,t.jsx)(n.p,{children:"Creates a new class. The interface of the original class is maintained, all of the class member functions and properties will be mocked."}),"\n",(0,t.jsx)(n.h4,{id:"object",children:(0,t.jsx)(n.code,{children:"Object"})}),"\n",(0,t.jsx)(n.p,{children:"Creates a new deeply cloned object. The object keys are maintained and their values are mocked."}),"\n",(0,t.jsx)(n.h4,{id:"array",children:(0,t.jsx)(n.code,{children:"Array"})}),"\n",(0,t.jsx)(n.p,{children:"Creates a new empty array, ignoring the original."}),"\n",(0,t.jsx)(n.h4,{id:"primitives",children:(0,t.jsx)(n.code,{children:"Primitives"})}),"\n",(0,t.jsx)(n.p,{children:"Creates a new property with the same primitive value as the original property."}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="example.js"',children:"module.exports = {\n  function: function square(a, b) {\n    return a * b;\n  },\n  asyncFunction: async function asyncSquare(a, b) {\n    const result = (await a) * b;\n    return result;\n  },\n  class: new (class Bar {\n    constructor() {\n      this.array = [1, 2, 3];\n    }\n    foo() {}\n  })(),\n  object: {\n    baz: 'foo',\n    bar: {\n      fiz: 1,\n      buzz: [1, 2, 3],\n    },\n  },\n  array: [1, 2, 3],\n  number: 123,\n  string: 'baz',\n  boolean: true,\n  symbol: Symbol.for('a.b.c'),\n};\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="__tests__/example.test.js"',children:"const example = jest.createMockFromModule('../example');\n\ntest('should run example code', () => {\n  // \u0441\u0442\u0432\u043e\u0440\u044e\u0454 \u043d\u043e\u0432\u0443 \u0456\u043c\u0456\u0442\u043e\u0432\u0430\u043d\u0443 \u0444\u0443\u043d\u043a\u0446\u0456\u044e \u0431\u0435\u0437 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0456\u0432.\n  expect(example.function.name).toBe('square');\n  expect(example.function).toHaveLength(0);\n\n  // \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0456 \u0444\u0443\u043d\u043a\u0446\u0456\u0457 \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u044e\u0442\u044c\u0441\u044f \u0430\u043d\u0430\u043b\u043e\u0433\u0456\u0447\u043d\u043e \u0434\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0438\u0445 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0438\u0445 \u0444\u0443\u043d\u043a\u0446\u0456\u0439.\n  expect(example.asyncFunction.name).toBe('asyncSquare');\n  expect(example.asyncFunction).toHaveLength(0);\n\n  // \u0441\u0442\u0432\u043e\u0440\u044e\u0454 \u043d\u043e\u0432\u0438\u0439 \u043a\u043b\u0430\u0441 \u0437 \u0442\u0430\u043a\u0438\u043c \u0441\u0430\u043c\u0438\u043c \u0456\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u043c; \u0444\u0443\u043d\u043a\u0446\u0456\u0457-\u0447\u043b\u0435\u043d\u0438 \u0442\u0430 \u0432\u043b\u0430\u0441\u0442\u0438\u0432\u043e\u0441\u0442\u0456 \u0456\u043c\u0456\u0442\u0443\u044e\u0442\u044c\u0441\u044f.\n  expect(example.class.constructor.name).toBe('Bar');\n  expect(example.class.foo.name).toBe('foo');\n  expect(example.class.array).toHaveLength(0);\n\n  // \u0441\u0442\u0432\u043e\u0440\u044e\u0454 \u0433\u043b\u0438\u0431\u043e\u043a\u0438\u0439 \u043a\u043b\u043e\u043d \u043e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0431'\u0454\u043a\u0442\u0430.\n  expect(example.object).toEqual({\n    baz: 'foo',\n    bar: {\n      fiz: 1,\n      buzz: [],\n    },\n  });\n\n  // creates a new empty array, ignoring the original array.\n  expect(example.array).toHaveLength(0);\n\n  // \u0441\u0442\u0432\u043e\u0440\u044e\u0454 \u043d\u043e\u0432\u0443 \u0432\u043b\u0430\u0441\u0442\u0438\u0432\u0456\u0441\u0442\u044c \u0437 \u043f\u0440\u0438\u043c\u0456\u0442\u0438\u0432\u043d\u0438\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f\u043c\u0438 \u043e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0431'\u0454\u043a\u0442\u0430.\n  expect(example.number).toBe(123);\n  expect(example.string).toBe('baz');\n  expect(example.boolean).toBe(true);\n  expect(example.symbol).toEqual(Symbol.for('a.b.c'));\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"jestmockmodulename-factory-options",children:(0,t.jsx)(n.code,{children:"jest.mock(moduleName, factory, options)"})}),"\n",(0,t.jsxs)(n.p,{children:["Mocks a module with an auto-mocked version when it is being required. ",(0,t.jsx)(n.code,{children:"factory"})," and ",(0,t.jsx)(n.code,{children:"options"})," are optional. \u041d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="banana.js"',children:"module.exports = () => 'banana';\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="__tests__/test.js"',children:"jest.mock('../banana');\n\nconst banana = require('../banana'); // banana will be explicitly mocked.\n\nbanana(); // will return 'undefined' because the function is auto-mocked.\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u0414\u0440\u0443\u0433\u0438\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u0438\u0439 \u0449\u043e\u0431 \u044f\u0432\u043d\u043e \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0444\u0430\u0431\u0440\u0438\u0447\u043d\u0438\u0439 \u043c\u0435\u0442\u043e\u0434 \u043c\u043e\u0434\u0443\u043b\u044f, \u044f\u043a\u0438\u0439 \u0431\u0443\u0434\u0435 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e\u0433\u043e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457:"}),"\n",(0,t.jsxs)(i.Z,{groupId:"code-examples",children:[(0,t.jsx)(c.Z,{value:"js",label:"JavaScript",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"tab",children:"jest.mock('../moduleName', () => {\n  return jest.fn(() => 42);\n});\n\n// This runs the function specified as second argument to `jest.mock`.\nconst moduleName = require('../moduleName');\nmoduleName(); // Will return '42';\n"})})}),(0,t.jsx)(c.Z,{value:"ts",label:"TypeScript",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"tab",children:"// \u041d\u0435\u043e\u0431\u043e\u0432'\u0437\u043a\u043e\u0432\u0438\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0442\u0438\u043f\u0443 \u043d\u0430\u0434\u0430\u0454 \u0442\u0438\u043f \u0437\u0430\u0432\u043e\u0434\u0441\u044c\u043a\u043e\u043c\u0443 \u043c\u043e\u0434\u0443\u043b\u044e\njest.mock<typeof import('../moduleName')>('../moduleName', () => {\n  return jest.fn(() => 42);\n});\n\n// \u0426\u0435 \u0432\u0438\u043a\u043e\u043d\u0430\u0454 \u0444\u0443\u043d\u043a\u0446\u0456\u044e, \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u0443 \u0434\u0440\u0443\u0433\u0438\u043c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u043c \u0432 `jest.mock`.\nconst moduleName = require('../moduleName');\nmoduleName(); // Will return '42';\n"})})})]}),"\n",(0,t.jsxs)(n.p,{children:["When using the ",(0,t.jsx)(n.code,{children:"factory"})," parameter for an ES6 module with a default export, the ",(0,t.jsx)(n.code,{children:"__esModule: true"})," property needs to be specified. This property is normally generated by Babel / TypeScript, but here it needs to be set manually. When importing a default export, it's an instruction to import the property named ",(0,t.jsx)(n.code,{children:"default"})," from the export object:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import moduleName, {foo} from '../moduleName';\n\njest.mock('../moduleName', () => {\n  return {\n    __esModule: true,\n    default: jest.fn(() => 42),\n    foo: jest.fn(() => 43),\n  };\n});\n\nmoduleName(); // Will return 42\nfoo(); // Will return 43\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u0422\u0440\u0435\u0442\u0456\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043c\u043e\u0436\u0443 \u0431\u0443\u0442\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u0438\u0439 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0432\u0456\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u0438\u0445 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0439 - \u0442\u0430\u043a\u0438\u0445, \u044f\u043a\u0456 \u043d\u0435 \u0456\u0441\u043d\u0443\u044e\u0442\u044c \u043d\u0456\u0434\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0456:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"jest.mock(\n  '../moduleName',\n  () => {\n    /*\n     * Custom implementation of a module that doesn't exist in JS,\n     * like a generated module or a native module in react-native.\n     */\n  },\n  {virtual: true},\n);\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.p,{children:["\u0406\u043c\u043f\u043e\u0440\u0442 \u043c\u043e\u0434\u0443\u043b\u044f \u0432 \u0444\u0430\u0439\u043b \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f (\u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439 \u0432 ",(0,t.jsx)(n.a,{href:"/uk/docs/next/configuration#setupfilesafterenv-array",children:(0,t.jsx)(n.code,{children:"setupFilesAfterEnv"})}),") \u0431\u0443\u0434\u0435 \u043f\u0435\u0440\u0435\u0448\u043a\u043e\u0434\u0436\u0430\u0442\u0438 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044e \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457 \u0434\u043b\u044f \u043d\u044c\u043e\u0433\u043e, \u044f\u043a \u0456 \u0434\u043b\u044f \u0432\u0441\u0456\u0445 \u043c\u043e\u0434\u0443\u043b\u0456\u0432, \u044f\u043a\u0456 \u0432\u0456\u043d \u0456\u043c\u043f\u043e\u0440\u0442\u0443\u0454."]})}),"\n",(0,t.jsxs)(n.p,{children:["\u041c\u043e\u0434\u0443\u043b\u0456, \u0434\u043b\u044f \u044f\u043a\u0438\u0445 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0456 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457 \u0437 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e ",(0,t.jsx)(n.code,{children:"jest.mock"})," \u0454 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u044f\u043c\u0438 \u0442\u0456\u043b\u044c\u043a\u0438 \u0432 \u043c\u0435\u0436\u0430\u0445 \u0444\u0430\u0439\u043b\u0443, \u0432 \u044f\u043a\u043e\u043c\u0443 \u0431\u0443\u043b\u043e \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u043d\u043e ",(0,t.jsx)(n.code,{children:"jest.mock"}),". Another file that imports the module will get the original implementation even if it runs after the test file that mocks the module."]}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043e\u0431\u2019\u0454\u043a\u0442 ",(0,t.jsx)(n.code,{children:"jest"})," \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043b\u0430\u043d\u0446\u044e\u0436\u043a\u0456\u0432 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432."]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Writing tests in TypeScript? \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 \u0442\u0438\u043f \u0443\u0442\u0438\u043b\u0456\u0442\u0438 ",(0,t.jsx)(n.a,{href:"MockFunctionAPI.md/#jestmockedsource",children:(0,t.jsx)(n.code,{children:"jest.Mocked"})})," \u0430\u0431\u043e \u0434\u043e\u043f\u043e\u043c\u0456\u0436\u043d\u0438\u0439 \u043c\u0435\u0442\u043e\u0434 ",(0,t.jsx)(n.a,{href:"MockFunctionAPI.md/#jestmockedsource-options",children:(0,t.jsx)(n.code,{children:"jest.mocked()"})}),", \u0449\u043e\u0431 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0442\u0438\u043f \u0456\u043c\u0456\u0442\u043e\u0432\u0430\u043d\u0438\u0445 \u043c\u043e\u0434\u0443\u043b\u0456\u0432."]})}),"\n",(0,t.jsx)(n.h3,{id:"jestmockedsource",children:(0,t.jsx)(n.code,{children:"jest.Mocked<Source>"})}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.a,{href:"MockFunctionAPI.md/#jestmockedsource",children:"TypeScript Usage"})," chapter of Mock Functions page for documentation."]}),"\n",(0,t.jsx)(n.h3,{id:"jestmockedsource-options",children:(0,t.jsx)(n.code,{children:"jest.mocked(source, options?)"})}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.a,{href:"MockFunctionAPI.md/#jestmockedsource-options",children:"TypeScript Usage"})," chapter of Mock Functions page for documentation."]}),"\n",(0,t.jsx)(n.h3,{id:"jestunmockmodulename",children:(0,t.jsx)(n.code,{children:"jest.unmock(moduleName)"})}),"\n",(0,t.jsxs)(n.p,{children:["\u0412\u043a\u0430\u0437\u0443\u0454 \u0441\u0438\u0441\u0442\u0435\u043c\u0456 \u043c\u043e\u0434\u0443\u043b\u0456\u0432 \u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0435 \u043f\u043e\u0432\u0435\u0440\u0442\u0430\u0442\u0438 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u044e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043c\u043e\u0434\u0443\u043b\u044f \u0437 ",(0,t.jsx)(n.code,{children:"require()"})," (\u043c\u0430\u0454 \u043f\u043e\u0432\u0435\u0440\u0442\u0430\u0442\u0438\u0441\u044f \u043e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u0430 \u0432\u0435\u0440\u0441\u0456\u044f \u043c\u043e\u0434\u0443\u043b\u044f)."]}),"\n",(0,t.jsx)(n.p,{children:"\u041d\u0430\u0439\u043f\u043e\u0448\u0438\u0440\u0435\u043d\u0456\u0448\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0446\u044c\u043e\u0433\u043e API - \u0432\u043a\u0430\u0437\u0430\u043d\u043d\u044f \u043c\u043e\u0434\u0443\u043b\u044f, \u044f\u043a\u0438\u0439 \u0434\u0430\u043d\u0438\u0439 \u0442\u0435\u0441\u0442 \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u0443\u0432\u0430\u0442\u0438 (\u0430 \u043e\u0442\u0436\u0435 \u0434\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u043c\u043e\u0434\u0443\u043b\u044f \u043d\u0435 \u043f\u043e\u0432\u0438\u0432\u043d\u043d\u0430 \u0431\u0443\u0442\u0438 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0430 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u044f)."}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043e\u0431\u2019\u0454\u043a\u0442 ",(0,t.jsx)(n.code,{children:"jest"})," \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043b\u0430\u043d\u0446\u044e\u0436\u043a\u0456\u0432 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432."]}),"\n",(0,t.jsx)(n.h3,{id:"jestdeepunmockmodulename",children:(0,t.jsx)(n.code,{children:"jest.deepUnmock(moduleName)"})}),"\n",(0,t.jsx)(n.p,{children:"\u0412\u043a\u0430\u0437\u0443\u0454, \u0449\u043e \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043c\u043e\u0434\u0443\u043b\u0456\u0432 \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u0430 \u043f\u043e\u0432\u0435\u0440\u0442\u0430\u0442\u0438 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u044e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043c\u043e\u0434\u0443\u043b\u044f \u0442\u0430 \u0439\u043e\u0433\u043e \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0435\u0439."}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043e\u0431\u2019\u0454\u043a\u0442 ",(0,t.jsx)(n.code,{children:"jest"})," \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043b\u0430\u043d\u0446\u044e\u0436\u043a\u0456\u0432 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432."]}),"\n",(0,t.jsx)(n.h3,{id:"jestdomockmodulename-factory-options",children:(0,t.jsx)(n.code,{children:"jest.doMock(moduleName, factory, options)"})}),"\n",(0,t.jsxs)(n.p,{children:["When using ",(0,t.jsx)(n.code,{children:"babel-jest"}),", calls to ",(0,t.jsx)(n.code,{children:"mock"})," will automatically be hoisted to the top of the code block. Use this method if you want to explicitly avoid this behavior."]}),"\n",(0,t.jsx)(n.p,{children:"\u0426\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u043d\u043e, \u043a\u043e\u043b\u0438 \u0432\u0438 \u0445\u043e\u0447\u0435\u0442\u0435 \u043f\u043e-\u0440\u0456\u0437\u043d\u043e\u043c\u0443 \u0456\u043c\u0456\u0442\u0443\u0432\u0430\u0442\u0438 \u043c\u043e\u0434\u0443\u043b\u044c \u0432 \u043c\u0435\u0436\u0430\u0445 \u043e\u0434\u043d\u043e\u0433\u043e \u0456 \u0442\u043e\u0433\u043e \u0436 \u0444\u0430\u0439\u043b\u0430 \u0437 \u0442\u0435\u0441\u0442\u0430\u043c\u0438:"}),"\n",(0,t.jsxs)(i.Z,{groupId:"code-examples",children:[(0,t.jsx)(c.Z,{value:"js",label:"JavaScript",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"tab",children:"beforeEach(() => {\n  jest.resetModules();\n});\n\ntest('moduleName 1', () => {\n  jest.doMock('../moduleName', () => {\n    return jest.fn(() => 1);\n  });\n  const moduleName = require('../moduleName');\n  expect(moduleName()).toBe(1);\n});\n\ntest('moduleName 2', () => {\n  jest.doMock('../moduleName', () => {\n    return jest.fn(() => 2);\n  });\n  const moduleName = require('../moduleName');\n  expect(moduleName()).toBe(2);\n});\n"})})}),(0,t.jsx)(c.Z,{value:"ts",label:"TypeScript",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"tab",children:"beforeEach(() => {\n  jest.resetModules();\n});\n\ntest('moduleName 1', () => {\n  // \u041d\u0435\u043e\u0431\u043e\u0432'\u0437\u043a\u043e\u0432\u0438\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0442\u0438\u043f\u0443 \u043d\u0430\u0434\u0430\u0454 \u0442\u0438\u043f \u0437\u0430\u0432\u043e\u0434\u0441\u044c\u043a\u043e\u043c\u0443 \u043c\u043e\u0434\u0443\u043b\u044e\n  jest.doMock<typeof import('../moduleName')>('../moduleName', () => {\n    return jest.fn(() => 1);\n  });\n  const moduleName = require('../moduleName');\n  expect(moduleName()).toBe(1);\n});\n\ntest('moduleName 2', () => {\n  jest.doMock<typeof import('../moduleName')>('../moduleName', () => {\n    return jest.fn(() => 2);\n  });\n  const moduleName = require('../moduleName');\n  expect(moduleName()).toBe(2);\n});\n"})})})]}),"\n",(0,t.jsxs)(n.p,{children:["Using ",(0,t.jsx)(n.code,{children:"jest.doMock()"})," with ES6 imports requires additional steps. Follow these if you don't want to use ",(0,t.jsx)(n.code,{children:"require"})," in your tests:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u041d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0432\u043b\u0430\u0441\u0442\u0438\u0432\u0456\u0441\u0442\u044c ",(0,t.jsx)(n.code,{children:"__esModule: true"})," (\u0434\u0438\u0432. ",(0,t.jsx)(n.a,{href:"#jestmockmodulename-factory-options",children:(0,t.jsx)(n.code,{children:"jest.mock()"})})," API \u0434\u043b\u044f \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e\u0457 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457)."]}),"\n",(0,t.jsxs)(n.li,{children:["\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u0456 \u0456\u043c\u043f\u043e\u0440\u0442\u0438 \u043c\u043e\u0434\u0443\u043b\u044f ES6 \u0441\u043f\u043b\u0438\u0432\u0430\u044e\u0442\u044c \u0443 \u0432\u0435\u0440\u0445\u043d\u044e \u0447\u0430\u0441\u0442\u0438\u043d\u0443 \u0444\u0430\u0439\u043b\u0443, \u0442\u043e\u0436 \u043d\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0456\u043c\u043f\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0457\u0445 \u0434\u0438\u043d\u0430\u043c\u0456\u0447\u043d\u043e \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e ",(0,t.jsx)(n.code,{children:"import()"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["\u0422\u0430\u043a\u043e\u0436, \u043d\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0435 \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435, \u044f\u043a\u0435 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0454 \u0434\u0438\u043d\u0430\u043c\u0456\u0447\u043d\u0456 \u0456\u043c\u043f\u043e\u0440\u0442\u0438. \u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u044c\u0442\u0435 ",(0,t.jsx)(n.a,{href:"/uk/docs/next/getting-started#using-babel",children:"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f Babel"})," \u0434\u043b\u044f \u043f\u0435\u0440\u0432\u0438\u043d\u043d\u043e\u0433\u043e \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f. \u041f\u043e\u0442\u0456\u043c \u0434\u043e\u0434\u0430\u0439\u0442\u0435 \u043f\u043b\u0430\u0433\u0456\u043d ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/babel-plugin-dynamic-import-node",children:"babel-plugin-dynamic-import-node"}),"\u0430\u0431\u043e \u0439\u043e\u0433\u043e \u0435\u043a\u0432\u0456\u0432\u0430\u043b\u0435\u043d\u0442 \u0434\u043e \u0432\u0430\u0448\u043e\u0457 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0457 Babel, \u0449\u043e\u0431 \u0443\u0432\u0456\u043c\u043a\u043d\u0443\u0442\u0438 \u0434\u0438\u043d\u0430\u043c\u0456\u0447\u043d\u0438\u0439 \u0456\u043c\u043f\u043e\u0440\u0442 \u0432 Node."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"beforeEach(() => {\n  jest.resetModules();\n});\n\ntest('moduleName 1', () => {\n  jest.doMock('../moduleName', () => {\n    return {\n      __esModule: true,\n      default: 'default1',\n      foo: 'foo1',\n    };\n  });\n  return import('../moduleName').then(moduleName => {\n    expect(moduleName.default).toBe('default1');\n    expect(moduleName.foo).toBe('foo1');\n  });\n});\n\ntest('moduleName 2', () => {\n  jest.doMock('../moduleName', () => {\n    return {\n      __esModule: true,\n      default: 'default2',\n      foo: 'foo2',\n    };\n  });\n  return import('../moduleName').then(moduleName => {\n    expect(moduleName.default).toBe('default2');\n    expect(moduleName.foo).toBe('foo2');\n  });\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043e\u0431\u2019\u0454\u043a\u0442 ",(0,t.jsx)(n.code,{children:"jest"})," \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043b\u0430\u043d\u0446\u044e\u0436\u043a\u0456\u0432 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432."]}),"\n",(0,t.jsx)(n.h3,{id:"jestdontmockmodulename",children:(0,t.jsx)(n.code,{children:"jest.dontMock(moduleName)"})}),"\n",(0,t.jsxs)(n.p,{children:["\u041a\u043e\u043b\u0438 \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 ",(0,t.jsx)(n.code,{children:"babel-jest"}),", \u0432\u0438\u043a\u043b\u0438\u043a\u0438 ",(0,t.jsx)(n.code,{children:"unmock"})," \u0431\u0443\u0434\u0443\u0442\u044c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e \u0441\u043f\u043b\u0438\u0432\u0430\u0442\u0438 \u0434\u043e \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0431\u043b\u043e\u043a\u0443 \u043a\u043e\u0434\u0443. Use this method if you want to explicitly avoid this behavior."]}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043e\u0431\u2019\u0454\u043a\u0442 ",(0,t.jsx)(n.code,{children:"jest"})," \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043b\u0430\u043d\u0446\u044e\u0436\u043a\u0456\u0432 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432."]}),"\n",(0,t.jsx)(n.h3,{id:"jestsetmockmodulename-moduleexports",children:(0,t.jsx)(n.code,{children:"jest.setMock(moduleName, moduleExports)"})}),"\n",(0,t.jsx)(n.p,{children:"\u042f\u0432\u043d\u043e \u0432\u043a\u0430\u0437\u0443\u0454 \u043e\u0431\u2019\u0454\u043a\u0442-\u0456\u043c\u0456\u0442\u0430\u0446\u0456\u044e, \u044f\u043a\u0438\u0439 \u043c\u0430\u0454 \u043f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043c\u043e\u0434\u0443\u043b\u0456\u0432 \u0434\u043b\u044f \u0432\u043a\u0430\u0437\u0430\u043d\u043e\u0433\u043e \u043c\u043e\u0434\u0443\u043b\u044f."}),"\n",(0,t.jsxs)(n.p,{children:["On occasion, there are times where the automatically generated mock the module system would normally provide you isn't adequate enough for your testing needs. Normally under those circumstances you should write a ",(0,t.jsx)(n.a,{href:"/uk/docs/next/manual-mocks",children:"manual mock"})," that is more adequate for the module in question. \u041e\u0434\u043d\u0430\u043a \u0432 \u0435\u043a\u0441\u0442\u0440\u0435\u043c\u0430\u043b\u044c\u043d\u043e \u0440\u0456\u0434\u043a\u0456\u0441\u043d\u0438\u0445 \u0432\u0438\u043f\u0430\u0434\u043a\u0430\u0445 \u043d\u0430\u0432\u0456\u0442\u044c \u0440\u0443\u0447\u043d\u0438\u0439 \u043c\u043e\u043a \u043d\u0435 \u043f\u0456\u0434\u0445\u043e\u0434\u0438\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0448\u0438\u0445 \u0446\u0456\u043b\u0435\u0439 \u0456 \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u044e \u0432\u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0456 \u0432\u0430\u0448\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0443."]}),"\n",(0,t.jsx)(n.p,{children:"\u0412 \u0442\u0430\u043a\u0438\u0445 \u0440\u0456\u0434\u043a\u0456\u0441\u043d\u0438\u0445 \u0441\u0446\u0435\u043d\u0430\u0440\u0456\u044f\u0445 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0442\u0438 \u0446\u0435\u0439 API, \u0449\u043e\u0431 \u0432 \u0440\u0443\u0447\u043d\u0443 \u0437\u0430\u043f\u043e\u0432\u043d\u0438\u0442\u0438 \u0441\u043b\u043e\u0442 \u0432 \u0440\u0435\u0454\u0441\u0442\u0440\u0456 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0438 \u043c\u043e\u0434\u0443\u043b\u0456\u0432."}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043e\u0431\u2019\u0454\u043a\u0442 ",(0,t.jsx)(n.code,{children:"jest"})," \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043b\u0430\u043d\u0446\u044e\u0436\u043a\u0456\u0432 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0454\u0442\u044c\u0441\u044f \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 ",(0,t.jsx)(n.a,{href:"#jestmockmodulename-factory-options",children:(0,t.jsx)(n.code,{children:"jest.mock()"})})," \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0446\u044c\u043e\u0433\u043e \u043c\u0435\u0442\u043e\u0434\u0430. \u0414\u0440\u0443\u0433\u0438\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 ",(0,t.jsx)(n.code,{children:"jest.mock"})," - \u0446\u0435 \u0444\u0443\u043d\u043a\u0446\u0456\u044f, \u044f\u043a\u0430 \u043f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u044e \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u043e\u0447\u0456\u043a\u0443\u0432\u0430\u043d\u043e\u0433\u043e \u043e\u0431\u2019\u0454\u043a\u0442\u0430 \u043c\u043e\u0434\u0443\u043b\u044f."]})}),"\n",(0,t.jsx)(n.h3,{id:"jestrequireactualmodulename",children:(0,t.jsx)(n.code,{children:"jest.requireActual(moduleName)"})}),"\n",(0,t.jsx)(n.p,{children:"Returns the actual module instead of a mock, bypassing all checks on whether the module should receive a mock implementation or not."}),"\n",(0,t.jsxs)(i.Z,{groupId:"code-examples",children:[(0,t.jsx)(c.Z,{value:"js",label:"JavaScript",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"tab",children:"jest.mock('../myModule', () => {\n  // Require the original module to not be mocked...\n  const originalModule = jest.requireActual('../myModule');\n\n  return {\n    __esModule: true, // \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 \u043f\u0456\u0434 \u0447\u0430\u0441 \u0440\u043e\u0431\u043e\u0442\u0438 \u0437 esModules\n    ...originalModule,\n    getRandom: jest.fn(() => 10),\n  };\n});\n\nconst getRandom = require('../myModule').getRandom;\n\ngetRandom(); // \u0417\u0430\u0432\u0436\u0434\u0438 \u043f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 10\n"})})}),(0,t.jsx)(c.Z,{value:"ts",label:"TypeScript",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"tab",children:"jest.mock('../myModule', () => {\n  // Require the original module to not be mocked...\n  const originalModule =\n    jest.requireActual<typeof import('../myModule')>('../myModule');\n\n  return {\n    __esModule: true, // \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 \u043f\u0456\u0434 \u0447\u0430\u0441 \u0440\u043e\u0431\u043e\u0442\u0438 \u0437 esModules\n    ...originalModule,\n    getRandom: jest.fn(() => 10),\n  };\n});\n\nconst getRandom = require('../myModule').getRandom;\n\ngetRandom(); // \u0417\u0430\u0432\u0436\u0434\u0438 \u043f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 10\n"})})})]}),"\n",(0,t.jsx)(n.h3,{id:"jestrequiremockmodulename",children:(0,t.jsx)(n.code,{children:"jest.requireMock(moduleName)"})}),"\n",(0,t.jsx)(n.p,{children:"Returns a mock module instead of the actual module, bypassing all checks on whether the module should be required normally or not."}),"\n",(0,t.jsx)(n.h3,{id:"jestresetmodules",children:(0,t.jsx)(n.code,{children:"jest.resetModules()"})}),"\n",(0,t.jsx)(n.p,{children:"Resets the module registry - the cache of all required modules. This is useful to isolate modules where local state might conflict between tests."}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const sum1 = require('../sum');\njest.resetModules();\nconst sum2 = require('../sum');\nsum1 === sum2;\n// > false (sum1 \u0456 sum2 \u0454 \u0440\u0456\u0437\u043d\u0438\u043c\u0438 \u0435\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430\u043c\u0438 \u043c\u043e\u0434\u0443\u043b\u044f \"sum\".)\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u041f\u0440\u0438\u043a\u043b\u0430\u0434 \u0432 \u0442\u0435\u0441\u0442\u0456:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"beforeEach(() => {\n  jest.resetModules();\n});\n\ntest('works', () => {\n  const sum = require('../sum');\n});\n\ntest('works too', () => {\n  const sum = require('../sum');\n  // \u0437\u043c\u0456\u043d\u043d\u0430 sum \u2013 \u0446\u0435 \u0456\u043d\u0448\u0430 \u043a\u043e\u043f\u0456\u044f \u043c\u043e\u0434\u0443\u043b\u044f \"sum\" \u0443 \u043f\u043e\u0440\u0456\u0432\u043d\u044f\u043d\u043d\u0456 \u0437 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u043c \u0442\u0435\u0441\u0442\u043e\u043c.\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043e\u0431\u2019\u0454\u043a\u0442 ",(0,t.jsx)(n.code,{children:"jest"})," \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043b\u0430\u043d\u0446\u044e\u0436\u043a\u0456\u0432 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432."]}),"\n",(0,t.jsx)(n.h3,{id:"jestisolatemodulesfn",children:(0,t.jsx)(n.code,{children:"jest.isolateModules(fn)"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"jest.isolateModules(fn)"})," goes a step further than ",(0,t.jsx)(n.code,{children:"jest.resetModules()"})," and creates a sandbox registry for the modules that are loaded inside the callback function. This is useful to isolate specific modules for every test so that local module state doesn't conflict between tests."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"let myModule;\njest.isolateModules(() => {\n  myModule = require('myModule');\n});\n\nconst otherCopyOfMyModule = require('myModule');\n"})}),"\n",(0,t.jsx)(n.h3,{id:"jestisolatemodulesasyncfn",children:(0,t.jsx)(n.code,{children:"jest.isolateModulesAsync(fn)"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"jest.isolateModulesAsync()"})," \u0454 \u0435\u043a\u0432\u0456\u0432\u0430\u043b\u0435\u043d\u0442\u043e\u043c ",(0,t.jsx)(n.code,{children:"jest.isolateModules()"}),", \u0430\u043b\u0435 \u0434\u043b\u044f \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0438\u0445 \u0437\u0432\u043e\u0440\u043e\u0442\u043d\u0438\u0445 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432. \u0412\u0438\u043a\u043b\u0438\u043a \u043e\u0447\u0456\u043a\u0443\u0454 ",(0,t.jsx)(n.code,{children:"await"})," \u043f\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044e ",(0,t.jsx)(n.code,{children:"isolateModulesAsync"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"let myModule;\nawait jest.isolateModulesAsync(async () => {\n  myModule = await import('myModule');\n  // \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0456 \u0434\u0456\u0457 \u0432\u0438\u043a\u043e\u043d\u0443\u0439\u0442\u0435 \u0442\u0443\u0442\n});\n\nconst otherCopyOfMyModule = await import('myModule');\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u0444\u0443\u043d\u043a\u0446\u0456\u0457-\u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457",children:"\u0424\u0443\u043d\u043a\u0446\u0456\u0457-\u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457"}),"\n",(0,t.jsx)(n.h3,{id:"jestfnimplementation",children:(0,t.jsx)(n.code,{children:"jest.fn(implementation?)"})}),"\n",(0,t.jsxs)(n.p,{children:["Returns a new, unused ",(0,t.jsx)(n.a,{href:"/uk/docs/next/mock-function-api",children:"mock function"}),". Optionally takes a mock implementation."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const mockFn = jest.fn();\nmockFn();\nexpect(mockFn).toHaveBeenCalled();\n\n// With a mock implementation:\nconst returnsTrue = jest.fn(() => true);\nconsole.log(returnsTrue()); // true;\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["\u0414\u0435\u0442\u0430\u043b\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f TypeScript \u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456 ",(0,t.jsx)(n.a,{href:"/uk/docs/next/mock-function-api#jestfnimplementation",children:"\u0424\u0443\u043d\u043a\u0446\u0456\u0457-\u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457"}),"."]})}),"\n",(0,t.jsx)(n.h3,{id:"jestismockfunctionfn",children:(0,t.jsx)(n.code,{children:"jest.isMockFunction(fn)"})}),"\n",(0,t.jsx)(n.p,{children:"\u0412\u0438\u0437\u043d\u0430\u0447\u0430\u0454, \u0447\u0438 \u0437\u0430\u0434\u0430\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0456\u044f \u0454 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0454\u044e."}),"\n",(0,t.jsx)(n.h3,{id:"jestreplacepropertyobject-propertykey-value",children:(0,t.jsx)(n.code,{children:"jest.replaceProperty(object, propertyKey, value)"})}),"\n",(0,t.jsxs)(n.p,{children:["\u0417\u0430\u043c\u0456\u043d\u044e\u0454 ",(0,t.jsx)(n.code,{children:"object[propertyKey]"})," \u043d\u0430 ",(0,t.jsx)(n.code,{children:"value"}),". \u0412\u043b\u0430\u0441\u0442\u0438\u0432\u0456\u0441\u0442\u044c \u043c\u0430\u0454 \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u043e\u0431'\u0454\u043a\u0442\u0430. \u0407\u0457 \u043c\u043e\u0436\u043d\u0430 \u0437\u0430\u043c\u0456\u043d\u044f\u0442\u0438 \u0431\u0430\u0433\u0430\u0442\u043e \u0440\u0430\u0437\u0456\u0432. \u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 ",(0,t.jsx)(n.a,{href:"/uk/docs/next/mock-function-api#replaced-properties",children:"\u0437\u0430\u043c\u0456\u043d\u0435\u043d\u0443 \u0432\u043b\u0430\u0441\u0442\u0438\u0432\u0456\u0441\u0442\u044c"})," Jest."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["\u0414\u043b\u044f \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457 \u0432\u043b\u0430\u0441\u0442\u0438\u0432\u043e\u0441\u0442\u0435\u0439, \u044f\u043a\u0456 \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u0456 \u044f\u043a getters \u0430\u0431\u043e setters, \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 ",(0,t.jsx)(n.a,{href:"#jestspyonobject-methodname-accesstype",children:(0,t.jsx)(n.code,{children:"jest.spyOn(object, methodName, accessType)"})}),". \u0414\u043b\u044f \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457 \u0444\u0443\u043d\u043a\u0446\u0456\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 ",(0,t.jsx)(n.a,{href:"#jestspyonobject-methodname",children:(0,t.jsx)(n.code,{children:"jest.spyOn(object, methodName)"})}),"."]})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["\u0423\u0441\u0456 \u0432\u043b\u0430\u0441\u0442\u0438\u0432\u043e\u0441\u0442\u0456, \u0437\u0430\u043c\u0456\u043d\u0435\u043d\u0456 \u0447\u0435\u0440\u0435\u0437 ",(0,t.jsx)(n.code,{children:"jest.replaceProperty"}),", \u043c\u043e\u0436\u0443\u0442\u044c \u0432\u0456\u0434\u043d\u043e\u0432\u0438\u0442\u0438 \u043f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0456 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f, \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u0432\u0448\u0438 ",(0,t.jsx)(n.a,{href:"#jestrestoreallmocks",children:"jest.restoreAllMock"})," \u0434\u043b\u044f \u043c\u0435\u0442\u043e\u0434\u0443 ",(0,t.jsx)(n.a,{href:"/uk/docs/next/api#aftereachfn-timeout",children:"afterEach"}),"."]})}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const utils = {\n  isLocalhost() {\n    return process.env.HOSTNAME === 'localhost';\n  },\n};\n\nmodule.exports = utils;\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u041f\u0440\u0438\u043a\u043b\u0430\u0434 \u0442\u0435\u0441\u0442\u0443:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const utils = require('./utils');\n\nafterEach(() => {\n  // \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u0456\u043d\u0435\u043d\u043e\u0457 \u0432\u043b\u0430\u0441\u0442\u0438\u0432\u043e\u0441\u0442\u0456\n  jest.restoreAllMocks();\n});\n\ntest('isLocalhost returns true when HOSTNAME is localhost', () => {\n  jest.replaceProperty(process, 'env', {HOSTNAME: 'localhost'});\n  expect(utils.isLocalhost()).toBe(true);\n});\n\ntest('isLocalhost returns false when HOSTNAME is not localhost', () => {\n  jest.replaceProperty(process, 'env', {HOSTNAME: 'not-localhost'});\n  expect(utils.isLocalhost()).toBe(false);\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"jestspyonobject-methodname",children:(0,t.jsx)(n.code,{children:"jest.spyOn(object, methodName)"})}),"\n",(0,t.jsxs)(n.p,{children:["Creates a mock function similar to ",(0,t.jsx)(n.code,{children:"jest.fn"})," but also tracks calls to ",(0,t.jsx)(n.code,{children:"object[methodName]"}),". Returns a Jest ",(0,t.jsx)(n.a,{href:"/uk/docs/next/mock-function-api",children:"mock function"}),"."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["By default, ",(0,t.jsx)(n.code,{children:"jest.spyOn"})," also calls the ",(0,t.jsx)(n.strong,{children:"spied"})," method. \u0426\u0435 \u0432\u0456\u0434\u043c\u0456\u043d\u0430 \u043f\u043e\u0432\u0435\u0434\u0456\u043d\u043a\u0430 \u0443 \u043f\u043e\u0440\u0456\u0432\u043d\u044f\u043d\u043d\u0456 \u0437 \u0431\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044e \u0456\u043d\u0448\u0438\u0445 \u0442\u0435\u0441\u0442\u043e\u0432\u0438\u0445 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a. If you want to overwrite the original function, you can use ",(0,t.jsx)(n.code,{children:"jest.spyOn(object, methodName).mockImplementation(() => customImplementation)"})," or ",(0,t.jsx)(n.code,{children:"object[methodName] = jest.fn(() => customImplementation)"}),"."]})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["\u0427\u0435\u0440\u0435\u0437 \u0442\u0435, \u0449\u043e ",(0,t.jsx)(n.code,{children:"jest.spyOn"})," \u0454 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0454\u044e, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0456\u0434\u043d\u043e\u0432\u0438\u0442\u0438 \u043f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0432\u0438\u043a\u043b\u0438\u043a\u043e\u043c ",(0,t.jsx)(n.a,{href:"#jestrestoreallmocks",children:(0,t.jsx)(n.code,{children:"jest.restoreAllMocks"})})," \u0432\u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0456 \u0437\u0432\u043e\u0440\u043e\u0442\u043d\u043e\u0433\u043e \u0432\u0438\u043a\u043b\u0438\u043a\u0443, \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e\u0433\u043e \u0445\u0443\u043a\u0443 ",(0,t.jsx)(n.a,{href:"/uk/docs/next/api#aftereachfn-timeout",children:"afterEach"}),"."]})}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const video = {\n  play() {\n    return true;\n  },\n};\n\nmodule.exports = video;\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u041f\u0440\u0438\u043a\u043b\u0430\u0434 \u0442\u0435\u0441\u0442\u0443:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const video = require('./video');\n\nafterEach(() => {\n  // restore the spy created with spyOn\n  jest.restoreAllMocks();\n});\n\ntest('plays video', () => {\n  const spy = jest.spyOn(video, 'play');\n  const isPlaying = video.play();\n\n  expect(spy).toHaveBeenCalled();\n  expect(isPlaying).toBe(true);\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"jestspyonobject-methodname-accesstype",children:(0,t.jsx)(n.code,{children:"jest.spyOn(object, methodName, accessType?)"})}),"\n",(0,t.jsxs)(n.p,{children:["Since Jest 22.1.0+, the ",(0,t.jsx)(n.code,{children:"jest.spyOn"})," method takes an optional third argument of ",(0,t.jsx)(n.code,{children:"accessType"})," that can be either ",(0,t.jsx)(n.code,{children:"'get'"})," or ",(0,t.jsx)(n.code,{children:"'set'"}),", which proves to be useful when you want to spy on a getter or a setter, respectively."]}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const video = {\n  // it's a getter!\n  get play() {\n    return true;\n  },\n};\n\nmodule.exports = video;\n\nconst audio = {\n  _volume: false,\n  // it's a setter!\n  set volume(value) {\n    this._volume = value;\n  },\n  get volume() {\n    return this._volume;\n  },\n};\n\nmodule.exports = audio;\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u041f\u0440\u0438\u043a\u043b\u0430\u0434 \u0442\u0435\u0441\u0442\u0443:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const audio = require('./audio');\nconst video = require('./video');\n\nafterEach(() => {\n  // \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0441\u043b\u0456\u0434\u043a\u0443\u0432\u0430\u043d\u043d\u044f, \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e\u0433\u043e \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e spyOn\n  jest.restoreAllMocks();\n});\n\ntest('plays video', () => {\n  const spy = jest.spyOn(video, 'play', 'get'); // \u043f\u0435\u0440\u0435\u0434\u0430\u0454\u043c\u043e 'get'\n  const isPlaying = video.play();\n\n  expect(spy).toHaveBeenCalled();\n  expect(isPlaying).toBe(true);\n});\n\ntest('plays audio', () => {\n  const spy = jest.spyOn(audio, 'volume', 'set'); // \u043f\u0435\u0440\u0435\u0434\u0430\u0454\u043c\u043e 'set'\n  audio.volume = 100;\n\n  expect(spy).toHaveBeenCalled();\n  expect(audio.volume).toBe(100);\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"jestreplacedsource",children:(0,t.jsx)(n.code,{children:"jest.Replaced<Source>"})}),"\n",(0,t.jsxs)(n.p,{children:["\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u044e \u0448\u0443\u043a\u0430\u0439\u0442\u0435 \u0432 \u0440\u043e\u0437\u0434\u0456\u043b\u0456 ",(0,t.jsx)(n.a,{href:"/uk/docs/next/mock-function-api#replacedpropertyreplacevaluevalue",children:"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f TypeScript"})," \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0424\u0443\u043d\u043a\u0446\u0456\u0457-\u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457."]}),"\n",(0,t.jsx)(n.h3,{id:"jestspiedsource",children:(0,t.jsx)(n.code,{children:"jest.Spied<Source>"})}),"\n",(0,t.jsxs)(n.p,{children:["\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u044e \u0448\u0443\u043a\u0430\u0439\u0442\u0435 \u0432 \u0440\u043e\u0437\u0434\u0456\u043b\u0456 ",(0,t.jsx)(n.a,{href:"/uk/docs/next/mock-function-api#jestspiedsource",children:"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f TypeScript"})," \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0424\u0443\u043d\u043a\u0446\u0456\u0457-\u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457."]}),"\n",(0,t.jsx)(n.h3,{id:"jestclearallmocks",children:(0,t.jsx)(n.code,{children:"jest.clearAllMocks()"})}),"\n",(0,t.jsxs)(n.p,{children:["Clears the ",(0,t.jsx)(n.code,{children:"mock.calls"}),", ",(0,t.jsx)(n.code,{children:"mock.instances"}),", ",(0,t.jsx)(n.code,{children:"mock.contexts"})," and ",(0,t.jsx)(n.code,{children:"mock.results"})," properties of all mocks. Equivalent to calling ",(0,t.jsx)(n.a,{href:"/uk/docs/next/mock-function-api#mockfnmockclear",children:(0,t.jsx)(n.code,{children:".mockClear()"})})," on every mocked function."]}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043e\u0431\u2019\u0454\u043a\u0442 ",(0,t.jsx)(n.code,{children:"jest"})," \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043b\u0430\u043d\u0446\u044e\u0436\u043a\u0456\u0432 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432."]}),"\n",(0,t.jsx)(n.h3,{id:"jestresetallmocks",children:(0,t.jsx)(n.code,{children:"jest.resetAllMocks()"})}),"\n",(0,t.jsxs)(n.p,{children:["Resets the state of all mocks. Equivalent to calling ",(0,t.jsx)(n.a,{href:"/uk/docs/next/mock-function-api#mockfnmockreset",children:(0,t.jsx)(n.code,{children:".mockReset()"})})," on every mocked function."]}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043e\u0431\u2019\u0454\u043a\u0442 ",(0,t.jsx)(n.code,{children:"jest"})," \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043b\u0430\u043d\u0446\u044e\u0436\u043a\u0456\u0432 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432."]}),"\n",(0,t.jsx)(n.h3,{id:"jestrestoreallmocks",children:(0,t.jsx)(n.code,{children:"jest.restoreAllMocks()"})}),"\n",(0,t.jsxs)(n.p,{children:["\u0412\u0456\u0434\u043d\u043e\u0432\u043b\u044e\u0454 \u0432\u0441\u0456 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0457 \u0442\u0430 \u0437\u0430\u043c\u0456\u043d\u044f\u0454 \u0432\u043b\u0430\u0441\u0442\u0438\u0432\u043e\u0441\u0442\u0456 \u043d\u0430 \u0457\u0445 \u043f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0456 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f. \u0415\u043a\u0432\u0456\u0432\u0430\u043b\u0435\u043d\u0442\u043d\u043e \u0432\u0438\u043a\u043b\u0438\u043a\u0443 ",(0,t.jsx)(n.a,{href:"/uk/docs/next/mock-function-api#mockfnmockrestore",children:(0,t.jsx)(n.code,{children:".mockRestore()"})})," \u0434\u043b\u044f \u043a\u043e\u0436\u043d\u043e\u0457 \u0456\u043c\u0456\u0442\u043e\u0432\u0430\u043d\u043e\u0457 \u0444\u0443\u043d\u043a\u0446\u0456\u0457 \u0442\u0430 ",(0,t.jsx)(n.a,{href:"/uk/docs/next/mock-function-api#replacedpropertyrestore",children:(0,t.jsx)(n.code,{children:".restore()"})})," \u0434\u043b\u044f \u043a\u043e\u0436\u043d\u043e\u0457 \u0437\u0430\u043c\u0456\u043d\u0435\u043d\u043e\u0457 \u0432\u043b\u0430\u0441\u0442\u0438\u0432\u043e\u0441\u0442\u0456. \u041c\u0430\u0439\u0442\u0435 \u043d\u0430 \u0443\u0432\u0430\u0437\u0456, \u0449\u043e ",(0,t.jsx)(n.code,{children:"jest.restoreAllMocks()"})," \u043f\u0440\u0430\u0446\u044e\u0454 \u043b\u0438\u0448\u0435 \u0442\u043e\u0434\u0456, \u043a\u043e\u043b\u0438 \u0456\u043c\u0456\u0442\u0430\u0456\u0457 \u0431\u0443\u043b\u0438 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0456 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e ",(0,t.jsx)(n.a,{href:"#jestspyonobject-methodname",children:(0,t.jsx)(n.code,{children:"jest.spyOn()"})})," \u0442\u0430 \u0432\u043b\u0430\u0441\u0442\u0438\u0432\u043e\u0441\u0442\u0456 \u0437\u0430\u043c\u0456\u043d\u0435\u043d\u0456 \u0447\u0435\u0440\u0435\u0437 ",(0,t.jsx)(n.a,{href:"#jestreplacepropertyobject-propertykey-value",children:(0,t.jsx)(n.code,{children:"jest.replaceProperty()"})}),"; \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0443\u0441\u0456\u0445 \u0456\u043d\u0448\u0438\u0445 \u0456\u043c\u0456\u0442\u0430\u0446\u0456\u0439 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u044e\u0432\u0430\u0442\u0438 \u0432\u0440\u0443\u0447\u043d\u0443."]}),"\n",(0,t.jsx)(n.h2,{id:"\u0444\u0456\u043a\u0442\u0438\u0432\u043d\u0456-\u0442\u0430\u0439\u043c\u0435\u0440\u0438",children:"\u0424\u0456\u043a\u0442\u0438\u0432\u043d\u0456 \u0442\u0430\u0439\u043c\u0435\u0440\u0438"}),"\n",(0,t.jsx)(n.h3,{id:"jestusefaketimersfaketimersconfig",children:(0,t.jsx)(n.code,{children:"jest.useFakeTimers(fakeTimersConfig?)"})}),"\n",(0,t.jsxs)(n.p,{children:["Instructs Jest to use fake versions of the global date, performance, time and timer APIs. Fake timers implementation is backed by ",(0,t.jsx)(n.a,{href:"https://github.com/sinonjs/fake-timers",children:(0,t.jsx)(n.code,{children:"@sinonjs/fake-timers"})}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Fake timers will swap out ",(0,t.jsx)(n.code,{children:"Date"}),", ",(0,t.jsx)(n.code,{children:"performance.now()"}),", ",(0,t.jsx)(n.code,{children:"queueMicrotask()"}),", ",(0,t.jsx)(n.code,{children:"setImmediate()"}),", ",(0,t.jsx)(n.code,{children:"clearImmediate()"}),", ",(0,t.jsx)(n.code,{children:"setInterval()"}),", ",(0,t.jsx)(n.code,{children:"clearInterval()"}),", ",(0,t.jsx)(n.code,{children:"setTimeout()"}),", ",(0,t.jsx)(n.code,{children:"clearTimeout()"})," with an implementation that gets its time from the fake clock."]}),"\n",(0,t.jsxs)(n.p,{children:["In Node environment ",(0,t.jsx)(n.code,{children:"process.hrtime"}),", ",(0,t.jsx)(n.code,{children:"process.nextTick()"})," and in JSDOM environment ",(0,t.jsx)(n.code,{children:"requestAnimationFrame()"}),", ",(0,t.jsx)(n.code,{children:"cancelAnimationFrame()"}),", ",(0,t.jsx)(n.code,{children:"requestIdleCallback()"}),", ",(0,t.jsx)(n.code,{children:"cancelIdleCallback()"})," will be replaced as well."]}),"\n",(0,t.jsx)(n.p,{children:"Configuration options:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"type FakeableAPI =\n  | 'Date'\n  | 'hrtime'\n  | 'nextTick'\n  | 'performance'\n  | 'queueMicrotask'\n  | 'requestAnimationFrame'\n  | 'cancelAnimationFrame'\n  | 'requestIdleCallback'\n  | 'cancelIdleCallback'\n  | 'setImmediate'\n  | 'clearImmediate'\n  | 'setInterval'\n  | 'clearInterval'\n  | 'setTimeout'\n  | 'clearTimeout';\n\ntype FakeTimersConfig = {\n  /**\n   * If set to `true` all timers will be advanced automatically by 20 milliseconds\n   * every 20 milliseconds. A custom time delta may be provided by passing a number.\n   * The default is `false`.\n   */\n  advanceTimers?: boolean | number;\n  /**\n   * List of names of APIs that should not be faked. The default is `[]`, meaning\n   * all APIs are faked.\n   */\n  doNotFake?: Array<FakeableAPI>;\n  /**\n   * Use the old fake timers implementation instead of one backed by `@sinonjs/fake-timers`.\n   * The default is `false`.\n   */\n  legacyFakeTimers?: boolean;\n  /** Sets current system time to be used by fake timers. The default is `Date.now()`. */\n  now?: number | Date;\n  /**\n   * The maximum number of recursive timers that will be run when calling `jest.runAllTimers()`.\n   * The default is `100_000` timers.\n   */\n  timerLimit?: number;\n};\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Calling ",(0,t.jsx)(n.code,{children:"jest.useFakeTimers()"})," will use fake timers for all tests within the file, until original timers are restored with ",(0,t.jsx)(n.code,{children:"jest.useRealTimers()"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["You can call ",(0,t.jsx)(n.code,{children:"jest.useFakeTimers()"})," or ",(0,t.jsx)(n.code,{children:"jest.useRealTimers()"})," from anywhere: top level, inside an ",(0,t.jsx)(n.code,{children:"test"})," block, etc. Keep in mind that this is a ",(0,t.jsx)(n.strong,{children:"global operation"})," and will affect other tests within the same file. Calling ",(0,t.jsx)(n.code,{children:"jest.useFakeTimers()"})," once again in the same test file would reset the internal state (e.g. timer count) and reinstall fake timers using the provided options:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"test('advance the timers automatically', () => {\n  jest.useFakeTimers({advanceTimers: true});\n  // ...\n});\n\ntest('do not advance the timers and do not fake `performance`', () => {\n  jest.useFakeTimers({doNotFake: ['performance']});\n  // ...\n});\n\ntest('uninstall fake timers for the rest of tests in the file', () => {\n  jest.useRealTimers();\n  // ...\n});\n"})}),"\n",(0,t.jsxs)(n.admonition,{title:"Legacy Fake Timers",type:"info",children:[(0,t.jsx)(n.p,{children:"For some reason you might have to use legacy implementation of fake timers. It can be enabled like this (additional options are not supported):"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"jest.useFakeTimers({\n  legacyFakeTimers: true,\n});\n"})}),(0,t.jsxs)(n.p,{children:["Legacy fake timers will swap out ",(0,t.jsx)(n.code,{children:"setImmediate()"}),", ",(0,t.jsx)(n.code,{children:"clearImmediate()"}),", ",(0,t.jsx)(n.code,{children:"setInterval()"}),", ",(0,t.jsx)(n.code,{children:"clearInterval()"}),", ",(0,t.jsx)(n.code,{children:"setTimeout()"}),", ",(0,t.jsx)(n.code,{children:"clearTimeout()"})," with Jest ",(0,t.jsx)(n.a,{href:"/uk/docs/next/mock-function-api",children:"mock functions"}),". In Node environment ",(0,t.jsx)(n.code,{children:"process.nextTick()"})," and in JSDOM environment ",(0,t.jsx)(n.code,{children:"requestAnimationFrame()"}),", ",(0,t.jsx)(n.code,{children:"cancelAnimationFrame()"})," will be also replaced."]})]}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043e\u0431\u2019\u0454\u043a\u0442 ",(0,t.jsx)(n.code,{children:"jest"})," \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043b\u0430\u043d\u0446\u044e\u0436\u043a\u0456\u0432 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432."]}),"\n",(0,t.jsx)(n.h3,{id:"jestuserealtimers",children:(0,t.jsx)(n.code,{children:"jest.useRealTimers()"})}),"\n",(0,t.jsxs)(n.p,{children:["Instructs Jest to restore the original implementations of the global date, performance, time and timer APIs. For example, you may call ",(0,t.jsx)(n.code,{children:"jest.useRealTimers()"})," inside ",(0,t.jsx)(n.code,{children:"afterEach"})," hook to restore timers after each test:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"afterEach(() => {\n  jest.useRealTimers();\n});\n\ntest('do something with fake timers', () => {\n  jest.useFakeTimers();\n  // ...\n});\n\ntest('do something with real timers', () => {\n  // ...\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043e\u0431\u2019\u0454\u043a\u0442 ",(0,t.jsx)(n.code,{children:"jest"})," \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043b\u0430\u043d\u0446\u044e\u0436\u043a\u0456\u0432 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432."]}),"\n",(0,t.jsx)(n.h3,{id:"jestrunallticks",children:(0,t.jsx)(n.code,{children:"jest.runAllTicks()"})}),"\n",(0,t.jsxs)(n.p,{children:["\u0412\u0438\u043a\u043e\u043d\u0443\u0454 \u0432\u0441\u0456 ",(0,t.jsx)(n.strong,{children:"\u043c\u0456\u043a\u0440\u043e\u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"})," \u0432 \u0447\u0435\u0440\u0437\u0456 (\u0437\u0430\u0437\u0432\u0438\u0447\u0430\u0439 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0456 \u0432 Node \u0437 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e ",(0,t.jsx)(n.code,{children:"process.nextTick"}),")."]}),"\n",(0,t.jsxs)(n.p,{children:["\u041a\u043e\u043b\u0438 \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u0454\u0442\u044c\u0441\u044f \u0446\u0435\u0439 \u043c\u0435\u0442\u043e\u0434, \u0432\u0441\u0456 \u043c\u0456\u043a\u0440\u043e\u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f, \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0456 \u0447\u0435\u0440\u0435\u0437 ",(0,t.jsx)(n.code,{children:"process.nextTick"})," \u0431\u0443\u0434\u0443\u0442\u044c \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u0456. \u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e, \u044f\u043a\u0449\u043e \u0446\u0456 \u043c\u0456\u043a\u0440\u043e\u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f \u0441\u0430\u043c\u0456 \u043f\u043b\u0430\u043d\u0443\u044e\u0442\u044c \u043d\u043e\u0432\u0456 \u043c\u0456\u043a\u0440\u043e\u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f, \u0432\u043e\u043d\u0438 \u0442\u0435\u0436 \u0431\u0443\u0434\u0443\u0442\u044c \u043f\u043e\u0441\u0442\u0456\u0439\u043d\u043e \u0432\u0438\u043a\u043e\u043d\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043f\u043e\u043a\u0438 \u0432 \u0447\u0435\u0440\u0437\u0456 \u043d\u0435 \u0437\u0430\u043b\u0438\u0448\u0438\u0442\u044c\u0441\u044f \u0436\u043e\u0434\u043d\u043e\u0433\u043e \u043c\u0456\u043a\u0440\u043e\u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f."]}),"\n",(0,t.jsx)(n.h3,{id:"jestrunalltimers",children:(0,t.jsx)(n.code,{children:"jest.runAllTimers()"})}),"\n",(0,t.jsxs)(n.p,{children:["Exhausts both the ",(0,t.jsx)(n.strong,{children:"macro"}),"-task queue (i.e., all tasks queued by ",(0,t.jsx)(n.code,{children:"setTimeout()"}),", ",(0,t.jsx)(n.code,{children:"setInterval()"}),", and ",(0,t.jsx)(n.code,{children:"setImmediate()"}),") and the ",(0,t.jsx)(n.strong,{children:"micro"}),"-task queue (usually interfaced in node via ",(0,t.jsx)(n.code,{children:"process.nextTick"}),")."]}),"\n",(0,t.jsx)(n.p,{children:"When this API is called, all pending macro-tasks and micro-tasks will be executed. If those tasks themselves schedule new tasks, those will be continually exhausted until there are no more tasks remaining in the queue."}),"\n",(0,t.jsxs)(n.p,{children:["\u0426\u0435 \u0447\u0430\u0441\u0442\u043e \u0431\u0443\u0432\u0430\u0454 \u043a\u043e\u0440\u0438\u0441\u043d\u043e \u0434\u043b\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f setTimeout\u2019\u0456\u0432 \u0432\u043f\u0440\u043e\u0434\u043e\u0432\u0436 \u0442\u0435\u0441\u0442\u0443 \u0434\u043b\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0457 \u043f\u0435\u0440\u0435\u0432\u0456\u043a\u0438 \u044f\u043a\u043e\u0457\u0441\u044c \u043f\u043e\u0432\u0435\u0434\u0456\u043d\u043a\u0438, \u044f\u043a\u0430 \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u043b\u0438\u0448\u0435 \u043f\u0456\u0441\u043b\u044f \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u0437\u0432\u043e\u0440\u043e\u0442\u043d\u0456\u0445 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432 \u0432 ",(0,t.jsx)(n.code,{children:"setTimeout()"})," \u0430\u0431\u043e ",(0,t.jsx)(n.code,{children:"setInterval()"}),". See the ",(0,t.jsx)(n.a,{href:"/uk/docs/next/timer-mocks",children:"Timer mocks"})," doc for more information."]}),"\n",(0,t.jsx)(n.h3,{id:"jestrunalltimersasync",children:(0,t.jsx)(n.code,{children:"jest.runAllTimersAsync()"})}),"\n",(0,t.jsxs)(n.p,{children:["\u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0438\u0439 \u0435\u043a\u0432\u0456\u0432\u0430\u043b\u0435\u043d\u0442 ",(0,t.jsx)(n.code,{children:"jest.runAllTimers()"}),". \u0414\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u043c \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0438\u043c \u0437\u0432\u043e\u0440\u043e\u0442\u043d\u0438\u043c \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u043c \u0432\u0438\u043a\u043e\u043d\u0443\u0432\u0430\u0442\u0438\u0441\u044c ",(0,t.jsx)(n.em,{children:"\u043f\u0435\u0440\u0435\u0434"})," \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c \u0442\u0430\u0439\u043c\u0435\u0440\u0456\u0432."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"This function is not available when using legacy fake timers implementation."})}),"\n",(0,t.jsx)(n.h3,{id:"jestrunallimmediates",children:(0,t.jsx)(n.code,{children:"jest.runAllImmediates()"})}),"\n",(0,t.jsxs)(n.p,{children:["\u0412\u0438\u043a\u043e\u043d\u0443\u0454 \u0432\u0441\u0456 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f, \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0456 \u0437 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f\u043c ",(0,t.jsx)(n.code,{children:"setImmediate()"}),"."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"This function is only available when using legacy fake timers implementation."})}),"\n",(0,t.jsx)(n.h3,{id:"jestadvancetimersbytimemstorun",children:(0,t.jsx)(n.code,{children:"jest.advanceTimersByTime(msToRun)"})}),"\n",(0,t.jsxs)(n.p,{children:["\u0412\u0438\u043a\u043e\u043d\u0443\u0454 \u043b\u0438\u0448\u0435 \u043c\u0430\u043a\u0440\u043e\u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f \u0437 \u0447\u0435\u0440\u0433\u0438 (\u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0456, \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 ",(0,t.jsx)(n.code,{children:"setTimeout()"}),", ",(0,t.jsx)(n.code,{children:"setInterval()"})," \u0442\u0430 ",(0,t.jsx)(n.code,{children:"setImmediate()"}),")."]}),"\n",(0,t.jsxs)(n.p,{children:["\u041a\u043e\u043b\u0438 \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u0454\u0442\u044c\u0441\u044f \u0446\u0435\u0439 \u043c\u0435\u0442\u043e\u0434, \u0432\u0441\u0456 \u0442\u0430\u0439\u043c\u0435\u0440\u0438 \u043d\u0430\u0431\u043b\u0438\u0436\u0430\u044e\u0442\u044c\u0441\u044f \u043d\u0430 ",(0,t.jsx)(n.code,{children:"msToRun"}),' \u043c\u0456\u043b\u0456\u0441\u0435\u043a\u0443\u043d\u0434. All pending "macro-tasks" that have been queued via ',(0,t.jsx)(n.code,{children:"setTimeout()"})," or ",(0,t.jsx)(n.code,{children:"setInterval()"}),", and would be executed within this time frame will be executed. Additionally, if those macro-tasks schedule new macro-tasks that would be executed within the same time frame, those will be executed until there are no more macro-tasks remaining in the queue, that should be run within ",(0,t.jsx)(n.code,{children:"msToRun"})," milliseconds."]}),"\n",(0,t.jsx)(n.h3,{id:"jestadvancetimersbytimeasyncmstorun",children:(0,t.jsx)(n.code,{children:"jest.advanceTimersByTimeAsync(msToRun)"})}),"\n",(0,t.jsxs)(n.p,{children:["\u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0438\u0439 \u0435\u043a\u0432\u0456\u0432\u0430\u043b\u0435\u043d\u0442 ",(0,t.jsx)(n.code,{children:"jest.advanceTimersByTime(msToRun)"}),". \u0414\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u043c \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0438\u043c \u0437\u0432\u043e\u0440\u043e\u0442\u043d\u0438\u043c \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u043c \u0432\u0438\u043a\u043e\u043d\u0443\u0432\u0430\u0442\u0438\u0441\u044c ",(0,t.jsx)(n.em,{children:"\u043f\u0435\u0440\u0435\u0434"})," \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c \u0442\u0430\u0439\u043c\u0435\u0440\u0456\u0432."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"This function is not available when using legacy fake timers implementation."})}),"\n",(0,t.jsx)(n.h3,{id:"jestrunonlypendingtimers",children:(0,t.jsx)(n.code,{children:"jest.runOnlyPendingTimers()"})}),"\n",(0,t.jsxs)(n.p,{children:["\u0412\u0438\u043a\u043e\u043d\u0443\u0454 \u043b\u0438\u0448\u0435 \u0442\u0456 \u043c\u0430\u043a\u0440\u043e\u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f, \u044f\u043a\u0456 \u0432 \u0434\u0430\u043d\u0438\u0439 \u0447\u0430\u0441 \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0456 (\u0442\u043e\u0431\u0442\u043e \u043b\u0438\u0448\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f, \u044f\u043a\u0456 \u0431\u0443\u043b\u0438 \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0456 \u0432 \u0447\u0435\u0440\u0433\u0443 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e ",(0,t.jsx)(n.code,{children:"setTimeout()"})," \u0447\u0438 ",(0,t.jsx)(n.code,{children:"setInterval()"})," \u0434\u043e \u0446\u044c\u043e\u0433\u043e \u043c\u043e\u043c\u0435\u043d\u0442\u0443). \u042f\u043a\u0449\u043e \u0431\u0443\u0434\u044c \u044f\u043a\u0435 \u0437 \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0438\u0445 \u043c\u0430\u043a\u0440\u043e\u0437\u0430\u0432\u0434\u0430\u043d\u044c \u0437\u0430\u043f\u043b\u0430\u043d\u0443\u0454 \u043d\u043e\u0432\u0435 \u043c\u0430\u043a\u0440\u043e\u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f, \u0442\u0456 \u043d\u043e\u0432\u0456 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f \u043d\u0435 \u0431\u0443\u0434\u0443\u0442\u044c \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u0456 \u0446\u0438\u043c \u0432\u0438\u043a\u043b\u0438\u043a\u043e\u043c."]}),"\n",(0,t.jsxs)(n.p,{children:["\u0426\u0435 \u043a\u043e\u0440\u0438\u0441\u043d\u043e \u0434\u043b\u044f \u0441\u0446\u0435\u043d\u0430\u0440\u0456\u0457\u0432, \u043a\u043e\u043b\u0438 \u043c\u043e\u0434\u0443\u043b\u044c, \u0449\u043e \u0442\u0435\u0441\u0442\u0443\u0454\u0442\u044c\u0441\u044f, \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u0454 ",(0,t.jsx)(n.code,{children:"setTimeout()"}),", \u0437\u0432\u043e\u0440\u043e\u0442\u043d\u0456\u0439 \u0432\u0438\u043a\u043b\u0438\u043a \u044f\u043a\u043e\u0433\u043e \u0440\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u0454 \u0456\u043d\u0448\u0438\u0439 ",(0,t.jsx)(n.code,{children:"setTimeout()"})," (\u0449\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u0454, \u0449\u043e \u043f\u043e\u0441\u043b\u0456\u0434\u043e\u0432\u043d\u0456\u0441\u0442\u044c \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u0456\u0432 \u043d\u0456\u043a\u043e\u043b\u0438 \u043d\u0435 \u043f\u0440\u0438\u043f\u0438\u043d\u0435\u0442\u044c\u0441\u044f). \u0423 \u0442\u0430\u043a\u0438\u0445 \u0441\u0446\u0435\u043d\u0430\u0440\u0456\u044f\u0445 \u043a\u043e\u0440\u0438\u0441\u043d\u043e \u043c\u0430\u0442\u0438 \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u0440\u0443\u0445\u0430\u0442\u0438\u0441\u044f \u0432\u043f\u0435\u0440\u0435\u0434 \u0432 \u0447\u0430\u0441\u0456 \u043d\u0430 \u043e\u0434\u0438\u043d \u043a\u0440\u043e\u043a \u0437\u0430 \u0440\u0430\u0437."]}),"\n",(0,t.jsx)(n.h3,{id:"jestrunonlypendingtimersasync",children:(0,t.jsx)(n.code,{children:"jest.runOnlyPendingTimersAsync()"})}),"\n",(0,t.jsxs)(n.p,{children:["\u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0438\u0439 \u0435\u043a\u0432\u0456\u0432\u0430\u043b\u0435\u043d\u0442 ",(0,t.jsx)(n.code,{children:"jest.runOnlyPendingTimers()"}),". \u0414\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u043c \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0438\u043c \u0437\u0432\u043e\u0440\u043e\u0442\u043d\u0438\u043c \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u043c \u0432\u0438\u043a\u043e\u043d\u0443\u0432\u0430\u0442\u0438\u0441\u044c ",(0,t.jsx)(n.em,{children:"\u043f\u0435\u0440\u0435\u0434"})," \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c \u0442\u0430\u0439\u043c\u0435\u0440\u0456\u0432."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"This function is not available when using legacy fake timers implementation."})}),"\n",(0,t.jsx)(n.h3,{id:"jestadvancetimerstonexttimersteps",children:(0,t.jsx)(n.code,{children:"jest.advanceTimersToNextTimer(steps)"})}),"\n",(0,t.jsx)(n.p,{children:"Advances all timers by the needed milliseconds so that only the next timeouts/intervals will run."}),"\n",(0,t.jsxs)(n.p,{children:["Optionally, you can provide ",(0,t.jsx)(n.code,{children:"steps"}),", so it will run ",(0,t.jsx)(n.code,{children:"steps"})," amount of next timeouts/intervals."]}),"\n",(0,t.jsx)(n.h3,{id:"jestadvancetimerstonexttimerasyncsteps",children:(0,t.jsx)(n.code,{children:"jest.advanceTimersToNextTimerAsync(steps)"})}),"\n",(0,t.jsxs)(n.p,{children:["\u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0438\u0439 \u0435\u043a\u0432\u0456\u0432\u0430\u043b\u0435\u043d\u0442 ",(0,t.jsx)(n.code,{children:"jest.advanceTimersToNextTimer(steps)"}),". \u0414\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u043c \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0438\u043c \u0437\u0432\u043e\u0440\u043e\u0442\u043d\u0438\u043c \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u043c \u0432\u0438\u043a\u043e\u043d\u0443\u0432\u0430\u0442\u0438\u0441\u044c ",(0,t.jsx)(n.em,{children:"\u043f\u0435\u0440\u0435\u0434"})," \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c \u0442\u0430\u0439\u043c\u0435\u0440\u0456\u0432."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"This function is not available when using legacy fake timers implementation."})}),"\n",(0,t.jsx)(n.h3,{id:"jestclearalltimers",children:(0,t.jsx)(n.code,{children:"jest.clearAllTimers()"})}),"\n",(0,t.jsx)(n.p,{children:"\u0412\u0438\u0434\u0430\u043b\u044f\u0454 \u0432\u0441\u0456 \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0456 \u0442\u0430\u0439\u043c\u0435\u0440\u0438."}),"\n",(0,t.jsx)(n.p,{children:"\u0426\u0435 \u043e\u0437\u043d\u0430\u0447\u0430\u0454, \u0449\u043e \u044f\u043a\u0449\u043e \u0431\u0443\u043b\u0438 \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0456 \u0431\u0443\u0434\u044c-\u044f\u043a\u0456 \u0442\u0430\u0439\u043c\u0435\u0440\u0438 (\u0430\u043b\u0435 \u0432\u043e\u043d\u0438 \u0449\u0435 \u043d\u0435 \u0431\u043b\u0438 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u0456), \u0442\u043e \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u043e\u0447\u0438\u0449\u0435\u043d\u0456 \u0456 \u043d\u0435 \u0431\u0443\u0434\u0443\u0442\u044c \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u0456 \u0432 \u043c\u0430\u0439\u0431\u0443\u0442\u043d\u044c\u043e\u043c\u0443."}),"\n",(0,t.jsx)(n.h3,{id:"jestgettimercount",children:(0,t.jsx)(n.code,{children:"jest.getTimerCount()"})}),"\n",(0,t.jsx)(n.p,{children:"Returns the number of fake timers still left to run."}),"\n",(0,t.jsx)(n.h3,{id:"jestnow",children:(0,t.jsx)(n.code,{children:"jest.now()"})}),"\n",(0,t.jsxs)(n.p,{children:["Returns the time in ms of the current clock. This is equivalent to ",(0,t.jsx)(n.code,{children:"Date.now()"})," if real timers are in use, or if ",(0,t.jsx)(n.code,{children:"Date"})," is mocked. In other cases (such as legacy timers) it may be useful for implementing custom mocks of ",(0,t.jsx)(n.code,{children:"Date.now()"}),", ",(0,t.jsx)(n.code,{children:"performance.now()"}),", etc."]}),"\n",(0,t.jsx)(n.h3,{id:"jestsetsystemtimenow-number--date",children:(0,t.jsx)(n.code,{children:"jest.setSystemTime(now?: number | Date)"})}),"\n",(0,t.jsxs)(n.p,{children:["Set the current system time used by fake timers. Simulates a user changing the system clock while your program is running. It affects the current time but it does not in itself cause e.g. timers to fire; they will fire exactly as they would have done without the call to ",(0,t.jsx)(n.code,{children:"jest.setSystemTime()"}),"."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"This function is not available when using legacy fake timers implementation."})}),"\n",(0,t.jsx)(n.h3,{id:"jestgetrealsystemtime",children:(0,t.jsx)(n.code,{children:"jest.getRealSystemTime()"})}),"\n",(0,t.jsxs)(n.p,{children:["When mocking time, ",(0,t.jsx)(n.code,{children:"Date.now()"})," will also be mocked. If you for some reason need access to the real current time, you can invoke this function."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"This function is not available when using legacy fake timers implementation."})}),"\n",(0,t.jsx)(n.h2,{id:"misc",children:"Misc"}),"\n",(0,t.jsx)(n.h3,{id:"jestgetseed",children:(0,t.jsx)(n.code,{children:"jest.getSeed()"})}),"\n",(0,t.jsx)(n.p,{children:"Every time Jest runs a seed value is randomly generated which you could use in a pseudorandom number generator or anywhere else."}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Use the ",(0,t.jsx)(n.a,{href:"/uk/docs/next/cli#--showseed",children:(0,t.jsx)(n.code,{children:"--showSeed"})})," flag to print the seed in the test report summary. To manually set the value of the seed use ",(0,t.jsx)(n.a,{href:"/uk/docs/next/cli#--seednum",children:(0,t.jsx)(n.code,{children:"--seed=<num>"})})," CLI argument."]})}),"\n",(0,t.jsx)(n.h3,{id:"jestisenvironmenttorndown",children:(0,t.jsx)(n.code,{children:"jest.isEnvironmentTornDown()"})}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 ",(0,t.jsx)(n.code,{children:"true"}),", \u044f\u043a\u0449\u043e \u0442\u0435\u0441\u0442\u043e\u0432\u0435 \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435 \u0431\u0443\u043b\u043e \u0437\u043d\u0438\u0449\u0435\u043d\u043e."]}),"\n",(0,t.jsx)(n.h3,{id:"jestretrytimesnumretries-options",children:(0,t.jsx)(n.code,{children:"jest.retryTimes(numRetries, options?)"})}),"\n",(0,t.jsx)(n.p,{children:"Runs failed tests n-times until they pass or until the max number of retries is exhausted."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"jest.retryTimes(3);\n\ntest('will fail', () => {\n  expect(true).toBe(false);\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u042f\u043a\u0449\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 ",(0,t.jsx)(n.code,{children:"logErrorsBeforeRetry"})," \u0443\u0432\u0456\u043c\u043a\u043d\u0435\u043d\u043e, \u0442\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438, \u044f\u043a\u0456 \u043f\u0440\u0438\u0437\u0432\u0435\u043b\u0438 \u0434\u043e \u043f\u0430\u0434\u0456\u043d\u043d\u044f \u0442\u0435\u0441\u0442\u0443, \u0431\u0443\u0434\u0443\u0442\u044c \u0432\u0438\u0432\u0435\u0434\u0435\u043d\u0456 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0456."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"jest.retryTimes(3, {logErrorsBeforeRetry: true});\n\ntest('will fail', () => {\n  expect(true).toBe(false);\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043e\u0431\u2019\u0454\u043a\u0442 ",(0,t.jsx)(n.code,{children:"jest"})," \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043b\u0430\u043d\u0446\u044e\u0436\u043a\u0456\u0432 \u0432\u0438\u043a\u043b\u0438\u043a\u0456\u0432."]}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"jest.retryTimes()"})," \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043e\u0433\u043e\u043b\u043e\u0448\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u043d\u0430 \u0432\u0435\u0440\u0445\u043d\u044c\u043e\u043c\u0443 \u0440\u0456\u0432\u043d\u0456 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0443 \u0430\u0431\u043e \u0432 \u0431\u043b\u043e\u0446\u0456 ",(0,t.jsx)(n.code,{children:"describe"}),"."]})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["This function is only available with the default ",(0,t.jsx)(n.a,{href:"https://github.com/jestjs/jest/tree/main/packages/jest-circus",children:"jest-circus"})," runner."]})}),"\n",(0,t.jsx)(n.h3,{id:"jestsettimeouttimeout",children:(0,t.jsx)(n.code,{children:"jest.setTimeout(timeout)"})}),"\n",(0,t.jsx)(n.p,{children:"Set the default timeout interval (in milliseconds) for all tests and before/after hooks in the test file. This only affects the test file from which this function is called. The default timeout interval is 5 seconds if this method is not called."}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"jest.setTimeout(1000); // 1 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\n"})}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.p,{children:["To set timeout intervals on different tests in the same file, use the ",(0,t.jsxs)(n.a,{href:"/uk/docs/next/api#testname-fn-timeout",children:[(0,t.jsx)(n.code,{children:"timeout"})," option on each individual test"]}),"."]}),(0,t.jsxs)(n.p,{children:["If you want to set the timeout for all test files, use ",(0,t.jsx)(n.a,{href:"/uk/docs/next/configuration#testtimeout-number",children:(0,t.jsx)(n.code,{children:"testTimeout"})})," configuration option."]})]})]})}const x=function(e={}){const{wrapper:n}=Object.assign({},(0,o.ah)(),e.components);return n?(0,t.jsx)(n,Object.assign({},e,{children:(0,t.jsx)(h,e)})):h(e)}},5082:(e,n,s)=>{s.d(n,{ZP:()=>c});var t=s(4246),o=s(1670);function i(e){const n=Object.assign({admonition:"admonition",p:"p",pre:"pre",code:"code",a:"a"},(0,o.ah)(),e.components);return(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:"\u041f\u0440\u0438\u043a\u043b\u0430\u0434\u0438 TypeScript \u0437 \u0446\u0456\u0454\u0457 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438, \u044f\u043a \u0437\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432\u0430\u043d\u043e, \u0442\u0456\u043b\u044c\u043a\u0438 \u044f\u043a\u0449\u043e \u0432\u0438 \u044f\u0432\u043d\u043e \u0456\u043c\u043f\u043e\u0440\u0442\u0443\u0454\u0442\u0435 Jest API:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import {expect, jest, test} from '@jest/globals';\n"})}),(0,t.jsxs)(n.p,{children:["\u0406\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044e \u0449\u043e\u0434\u043e \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f Jest \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e TypeScript \u043c\u043e\u0436\u043d\u0430 \u0437\u043d\u0430\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456 ",(0,t.jsx)(n.a,{href:"/uk/docs/next/getting-started#using-typescript",children:"\u041f\u043e\u0447\u0430\u0442\u043e\u043a \u0440\u043e\u0431\u043e\u0442\u0438"}),"."]})]})}const c=function(e={}){const{wrapper:n}=Object.assign({},(0,o.ah)(),e.components);return n?(0,t.jsx)(n,Object.assign({},e,{children:(0,t.jsx)(i,e)})):i(e)}}}]);